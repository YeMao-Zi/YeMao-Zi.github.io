(window.webpackJsonp=window.webpackJsonp||[]).push([[539],{911:function(s,n,e){"use strict";e.r(n);var a=e(5),t=Object(a.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"配置介绍"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置介绍"}},[s._v("#")]),s._v(" 配置介绍")]),s._v(" "),n("h3",{attrs:{id:"compileonsave"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#compileonsave"}},[s._v("#")]),s._v(" compileOnSave")]),s._v(" "),n("p",[n("code",[s._v("compileOnSave")]),s._v(" 属性作用是"),n("strong",[s._v("设置保存文件的时候自动编译，但需要编译器支持")]),s._v("。")]),s._v(" "),n("div",{staticClass:"language-ini line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ini"}},[n("code",[s._v('{\n\t// ...\n  "compileOnSave": false,\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h3",{attrs:{id:"compileroptions"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#compileroptions"}},[s._v("#")]),s._v(" compilerOptions")]),s._v(" "),n("p",[n("code",[s._v("compilerOptions")]),s._v(" 属性作用是"),n("strong",[s._v("配置编译选项")]),s._v("。\n若 "),n("code",[s._v("compilerOptions")]),s._v(" 属性被忽略，则编译器会使用默认值，可以查看"),n("a",{attrs:{href:"https://link.zhihu.com/?target=https%3A//www.typescriptlang.org/docs/handbook/compiler-options.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("《官方完整的编译选项列表》"),n("OutboundLink")],1),s._v("。\n编译选项配置非常繁杂，有很多配置，这里只列出常用的配置。")]),s._v(" "),n("div",{staticClass:"language-ini line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ini"}},[n("code",[s._v('{\n  // ...\n  "compilerOptions": {\n    "incremental": true, // TS编译器在第一次编译之后会生成一个存储编译信息的文件，第二次编译会在第一次的基础上进行增量编译，可以提高编译的速度\n    "tsBuildInfoFile": "./buildFile", // 增量编译文件的存储位置\n    "diagnostics": true, // 打印诊断信息 \n    "target": "ES5", // 目标语言的版本\n    "module": "CommonJS", // 生成代码的模板标准\n    "outFile": "./app.js", // 将多个相互依赖的文件生成一个文件，可以用在AMD模块中，即开启时应设置"module": "AMD",\n    "lib": ["DOM", "ES2015", "ScriptHost", "ES2019.Array"], // TS需要引用的库，即声明文件，es5 默认引用dom、es5、scripthost,如需要使用es的高级版本特性，通常都需要配置，如es8的数组新特性需要引入"ES2019.Array",\n    "allowJS": true, // 允许编译器编译JS，JSX文件\n    "checkJs": true, // 允许在JS文件中报错，通常与allowJS一起使用\n    "outDir": "./dist", // 指定输出目录\n    "rootDir": "./", // 指定输出文件目录(用于输出)，用于控制输出目录结构\n    "declaration": true, // 生成声明文件，开启后会自动生成声明文件\n    "declarationDir": "./file", // 指定生成声明文件存放目录\n    "emitDeclarationOnly": true, // 只生成声明文件，而不会生成js文件\n    "sourceMap": true, // 生成目标文件的sourceMap文件\n    "inlineSourceMap": true, // 生成目标文件的inline SourceMap，inline SourceMap会包含在生成的js文件中\n    "declarationMap": true, // 为声明文件生成sourceMap\n    "typeRoots": [], // 声明文件目录，默认时node_modules/@types\n    "types": [], // 加载的声明文件包\n    "removeComments":true, // 删除注释 \n    "noEmit": true, // 不输出文件,即编译后不会生成任何js文件\n    "noEmitOnError": true, // 发送错误时不输出任何文件\n    "noEmitHelpers": true, // 不生成helper函数，减小体积，需要额外安装，常配合importHelpers一起使用\n    "importHelpers": true, // 通过tslib引入helper函数，文件必须是模块\n    "downlevelIteration": true, // 降级遍历器实现，如果目标源是es3/5，那么遍历器会有降级的实现\n    "strict": true, // 开启所有严格的类型检查\n    "alwaysStrict": true, // 在代码中注入\'use strict\'\n    "noImplicitAny": true, // 不允许隐式的any类型\n    "strictNullChecks": true, // 不允许把null、undefined赋值给其他类型的变量\n    "strictFunctionTypes": true, // 不允许函数参数双向协变\n    "strictPropertyInitialization": true, // 类的实例属性必须初始化\n    "strictBindCallApply": true, // 严格的bind/call/apply检查\n    "noImplicitThis": true, // 不允许this有隐式的any类型\n    "noUnusedLocals": true, // 检查只声明、未使用的局部变量(只提示不报错)\n    "noUnusedParameters": true, // 检查未使用的函数参数(只提示不报错)\n    "noFallthroughCasesInSwitch": true, // 防止switch语句贯穿(即如果没有break语句后面不会执行)\n    "noImplicitReturns": true, //每个分支都会有返回值\n    '),n("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v('"esModuleInterop": true, // 允许export')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("导出，由import from 导入")]),s._v('\n    "allowUmdGlobalAccess": true, // 允许在模块中全局变量的方式访问umd模块\n    "moduleResolution": "node", // 模块解析策略，ts默认用node的解析策略，即相对的方式导入\n    "baseUrl": "./", // 解析非相对模块的基地址，默认是当前目录\n    "paths": { // 路径映射，相对于baseUrl\n      // 如使用jq时不想使用默认版本，而需要手动指定版本，可进行如下配置\n      "jquery": ["node_modules/jquery/dist/jquery.min.js"]\n    },\n    "rootDirs": ["src","out"], // 将多个目录放在一个虚拟目录下，用于运行时，即编译后引入文件的位置可能发生变化，这也设置可以虚拟src和out在同一个目录下，不用再去改变路径也不会报错\n    "listEmittedFiles": true, // 打印输出文件\n    "listFiles": true// 打印编译的文件(包括引用的声明文件)\n  }\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br")])]),n("h3",{attrs:{id:"exclude"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#exclude"}},[s._v("#")]),s._v(" exclude")]),s._v(" "),n("p",[n("code",[s._v("exclude")]),s._v(" 属性作用是"),n("strong",[s._v("指定编译器需要排除的文件或文件夹。")]),s._v("\n默认排除 "),n("code",[s._v("node_modules")]),s._v(" 文件夹下文件。")]),s._v(" "),n("div",{staticClass:"language-ini line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ini"}},[n("code",[s._v('{\n\t// ...\n  "exclude": [\n    "src/lib" // 排除src目录下的lib文件夹下的文件不会编译\n  ]\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("和 "),n("code",[s._v("include")]),s._v(" 属性一样，支持 glob 通配符：")]),s._v(" "),n("ul",[n("li",[n("code",[s._v("*")]),s._v(" 匹配0或多个字符（不包括目录分隔符）")]),s._v(" "),n("li",[n("code",[s._v("?")]),s._v(" 匹配一个任意字符（不包括目录分隔符）")]),s._v(" "),n("li",[n("code",[s._v("**/")]),s._v(" 递归匹配任意子目录")])]),s._v(" "),n("h3",{attrs:{id:"extends"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#extends"}},[s._v("#")]),s._v(" extends")]),s._v(" "),n("p",[n("code",[s._v("extends")]),s._v(" 属性作用是"),n("strong",[s._v("引入其他配置文件，继承配置")]),s._v("。\n默认包含当前目录和子目录下所有 TypeScript 文件。")]),s._v(" "),n("div",{staticClass:"language-ini line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ini"}},[n("code",[s._v('{\n\t// ...\n  // 把基础配置抽离成tsconfig.base.json文件，然后引入\n\t"extends": "./tsconfig.base.json"\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h3",{attrs:{id:"files"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#files"}},[s._v("#")]),s._v(" files")]),s._v(" "),n("p",[n("code",[s._v("files")]),s._v(" 属性作用是"),n("strong",[s._v("指定需要编译的单个文件列表")]),s._v("。\n默认包含当前目录和子目录下所有 TypeScript 文件。")]),s._v(" "),n("div",{staticClass:"language-ini line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ini"}},[n("code",[s._v('{\n\t// ...\n  "files": [\n    // 指定编译文件是src目录下的leo.ts文件\n    "scr/leo.ts"\n  ]\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("h3",{attrs:{id:"include"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#include"}},[s._v("#")]),s._v(" include")]),s._v(" "),n("p",[n("code",[s._v("include")]),s._v(" 属性作用是"),n("strong",[s._v("指定编译需要编译的文件或目录")]),s._v("。")]),s._v(" "),n("div",{staticClass:"language-ini line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ini"}},[n("code",[s._v('{\n\t// ...\n  "include": [\n    // "scr" // 会编译src目录下的所有文件，包括子目录\n    // "scr/*" // 只会编译scr一级目录下的文件\n    "scr/*/*" // 只会编译scr二级目录下的文件\n  ]\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("h3",{attrs:{id:"references"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#references"}},[s._v("#")]),s._v(" references")]),s._v(" "),n("p",[n("code",[s._v("references")]),s._v(" 属性作用是"),n("strong",[s._v("指定工程引用依赖。")]),s._v("\n在项目开发中，有时候我们为了方便将前端项目和后端"),n("code",[s._v("node")]),s._v("项目放在同一个目录下开发，两个项目依赖同一个配置文件和通用文件，但我们希望前后端项目进行灵活的分别打包，那么我们可以进行如下配置：")]),s._v(" "),n("div",{staticClass:"language-text line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('{\n\t// ...\n  "references": [ // 指定依赖的工程\n     {"path": "./common"}\n  ]\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h3",{attrs:{id:"typeacquisition"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#typeacquisition"}},[s._v("#")]),s._v(" typeAcquisition")]),s._v(" "),n("p",[n("code",[s._v("typeAcquisition")]),s._v(" 属性作用是"),n("strong",[s._v("设置自动引入库类型定义文件(.d.ts)相关。")]),s._v("\n包含 3 个子属性：")]),s._v(" "),n("ul",[n("li",[n("code",[s._v("enable")]),s._v(" : 布尔类型，是否开启自动引入库类型定义文件(.d.ts)，默认为 false；")]),s._v(" "),n("li",[n("code",[s._v("include")]),s._v(" : 数组类型，允许自动引入的库名，如：[“jquery”, “lodash”]；")]),s._v(" "),n("li",[n("code",[s._v("exculde")]),s._v(" : 数组类型，排除的库名。")])]),s._v(" "),n("div",{staticClass:"language-ini line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ini"}},[n("code",[s._v('{\n\t// ...\n  "typeAcquisition": {\n    "enable": false,\n    "exclude": ["jquery"],\n    "include": ["jest"]\n  }\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("h2",{attrs:{id:"常见配置示例"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#常见配置示例"}},[s._v("#")]),s._v(" "),n("strong",[s._v("常见配置示例")])]),s._v(" "),n("p",[s._v("本部分内容中，我们找了几个实际开发中比较常见的配置，当然，还有很多配置需要自己摸索哟~~")]),s._v(" "),n("h3",{attrs:{id:"移除代码中注释"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#移除代码中注释"}},[s._v("#")]),s._v(" 移除代码中注释")]),s._v(" "),n("p",[s._v("tsconfig.json：")]),s._v(" "),n("div",{staticClass:"language-ini line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ini"}},[n("code",[s._v('{\n  "compilerOptions": {\n    "removeComments": true,\n  }\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("编译前：")]),s._v(" "),n("div",{staticClass:"language-ini line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ini"}},[n("code",[s._v("// 返回当前版本号\n"),n("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("function getVersion(version:string")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v('"1.0.0"): string{')]),s._v('\n    return version;\n}\nconsole.log(getVersion("1.0.1"))\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("编译结果：")]),s._v(" "),n("div",{staticClass:"language-ini line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ini"}},[n("code",[s._v("function getVersion(version) {\n    "),n("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("if (version")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v('== void 0) { version = "1.0.0"; }')]),s._v('\n    return version;\n}\nconsole.log(getVersion("1.0.1"));\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h3",{attrs:{id:"开启null、undefined检测"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#开启null、undefined检测"}},[s._v("#")]),s._v(" 开启null、undefined检测")]),s._v(" "),n("p",[s._v("tsconfig.json：")]),s._v(" "),n("div",{staticClass:"language-ini line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ini"}},[n("code",[s._v('{\n    "compilerOptions": {\n        "strictNullChecks": true\n    },\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("修改"),n("code",[s._v("index.ts")]),s._v("文件内容：")]),s._v(" "),n("div",{staticClass:"language-ini line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ini"}},[n("code",[s._v("const leo;\n"),n("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("leo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("new Pingan('leo','hello');")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("这时候编辑器也会提示错误信息，执行"),n("code",[s._v("tsc")]),s._v("后，控制台报错：")]),s._v(" "),n("div",{staticClass:"language-ini line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ini"}},[n("code",[s._v("src/index.ts:9:11 - error TS2304: Cannot find name 'Pingan'.\n\n"),n("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("9 leo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("new Pingan('leo','hello');")]),s._v("\n\nFound 1 error.\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h3",{attrs:{id:"配置复用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置复用"}},[s._v("#")]),s._v(" 配置复用")]),s._v(" "),n("p",[s._v("通过 "),n("code",[s._v("extends")]),s._v(" 属性实现配置复用，即一个配置文件可以继承另一个文件的配置属性。\n比如，建立一个基础的配置文件 "),n("code",[s._v("configs/base.json")]),s._v(" ：")]),s._v(" "),n("div",{staticClass:"language-ini line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ini"}},[n("code",[s._v('{\n  "compilerOptions": {\n    "noImplicitAny": true,\n    "strictNullChecks": true\n  }\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("在"),n("code",[s._v("tsconfig.json")]),s._v("就可以引用这个文件的配置了：")]),s._v(" "),n("div",{staticClass:"language-ini line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ini"}},[n("code",[s._v('{\n  "extends": "./configs/base",\n  "files": [\n    "main.ts",\n    "supplemental.ts"\n  ]\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("h3",{attrs:{id:"生成枚举的映射代码"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#生成枚举的映射代码"}},[s._v("#")]),s._v(" 生成枚举的映射代码")]),s._v(" "),n("p",[s._v("在默认情况下，使用 "),n("code",[s._v("const")]),s._v(" 修饰符后，枚举不会生成映射代码。\n如下，我们可以看出：使用 "),n("code",[s._v("const")]),s._v(" 修饰符后，编译器不会生成任何 "),n("code",[s._v("RequestMethod")]),s._v(" 枚举的任何映射代码，在其他地方使用时，内联每个成员的值，节省很大开销。")]),s._v(" "),n("div",{staticClass:"language-ini line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ini"}},[n("code",[s._v("const enum RequestMethod {\n  Get,\n  Post,\n  Put,\n  Delete\n}\n\n"),n("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("let methods")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("[")]),s._v("\n  RequestMethod.Get,\n  RequestMethod.Post\n]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[s._v("编译结果：")]),s._v(" "),n("div",{staticClass:"language-ini line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ini"}},[n("code",[s._v('"use strict";\n'),n("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("let methods")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("[")]),s._v("\n    0 /* Get */,\n    1 /* Post */\n];\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("当然，我们希望生成映射代码时，也可以设置"),n("code",[s._v("tsconfig.json")]),s._v("中的配置，设置"),n("code",[s._v("preserveConstEnums")]),s._v("编译器选项为"),n("code",[s._v("true")]),s._v("：")]),s._v(" "),n("div",{staticClass:"language-ini line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ini"}},[n("code",[s._v('{\n  "compilerOptions": {\n    "target": "es5",\n    "preserveConstEnums": true\n  }\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("最后编译结果变成：")]),s._v(" "),n("div",{staticClass:"language-ini line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ini"}},[n("code",[s._v('"use strict";\nvar RequestMethod;\n(function (RequestMethod) {\n    '),n("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v('RequestMethod[RequestMethod["Get"]')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v('0] = "Get";')]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v('RequestMethod[RequestMethod["Post"]')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v('1] = "Post";')]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v('RequestMethod[RequestMethod["Put"]')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v('2] = "Put";')]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v('RequestMethod[RequestMethod["Delete"]')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v('3] = "Delete";')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("})(RequestMethod || (RequestMethod")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("{}));")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("let methods")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("[")]),s._v("\n    0 /* Get */,\n    1 /* Post */\n];\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("h3",{attrs:{id:"关闭-this-类型注解提示"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#关闭-this-类型注解提示"}},[s._v("#")]),s._v(" 关闭 this 类型注解提示")]),s._v(" "),n("p",[s._v("通过下面代码编译后会报错：")]),s._v(" "),n("div",{staticClass:"language-ini line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ini"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("const button")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v('document.querySelector("button");')]),s._v('\nbutton?.addEventListener("click", handleClick);\nfunction handleClick(this) {\n console.log("Clicked!");\n this.removeEventListener("click", handleClick);\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("报错内容：")]),s._v(" "),n("div",{staticClass:"language-ini line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ini"}},[n("code",[s._v("src/index.ts:10:22 - error TS7006: Parameter 'this' implicitly has an 'any' type.\n10 function handleClick(this) {\nFound 1 error.\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("这是因为 "),n("code",[s._v("this")]),s._v(" 隐式具有 "),n("code",[s._v("any")]),s._v(" 类型，如果没有指定类型注解，编译器会提示““this” 隐式具有类型 “any”，因为它没有类型注释。”。")]),s._v(" "),n("p",[n("strong",[s._v("解决方法有2种：")])]),s._v(" "),n("ol",[n("li",[s._v("指定 this 类型，如本代码中为 "),n("code",[s._v("HTMLElement")]),s._v(" 类型：")])]),s._v(" "),n("p",[n("code",[s._v("HTMLElement")]),s._v(" 接口表示所有的 HTML 元素。一些HTML元素直接实现了 "),n("code",[s._v("HTMLElement")]),s._v(" 接口，其它的间接实现"),n("code",[s._v("HTMLElement")]),s._v("接口。\n关于"),n("a",{attrs:{href:"https://link.zhihu.com/?target=https%3A//developer.mozilla.org/zh-CN/docs/Web/API/HTMLElement",target:"_blank",rel:"noopener noreferrer"}},[s._v(" HTMLElement "),n("OutboundLink")],1),s._v("可查看详细。")]),s._v(" "),n("ol",[n("li",[s._v("使用 "),n("code",[s._v("--noImplicitThis")]),s._v(" 配置项：")])]),s._v(" "),n("p",[s._v("在 TS2.0 还增加一个新的编译选项： "),n("code",[s._v("--noImplicitThis")]),s._v("，表示当 "),n("code",[s._v("this")]),s._v(" 表达式值为 "),n("code",[s._v("any")]),s._v(" 类型时生成一个错误信息。我们设置为 "),n("code",[s._v("true")]),s._v(" 后就能正常编译。")]),s._v(" "),n("div",{staticClass:"language-ini line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ini"}},[n("code",[s._v('{\n  "compilerOptions": {\n    "noImplicitThis": true\n  }\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])])])}),[],!1,null,null,null);n.default=t.exports}}]);