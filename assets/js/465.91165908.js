(window.webpackJsonp=window.webpackJsonp||[]).push([[465],{839:function(s,t,a){"use strict";a.r(t);var n=a(5),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"git提交规范"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#git提交规范"}},[s._v("#")]),s._v(" Git提交规范")]),s._v(" "),t("h3",{attrs:{id:"意义及现状"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#意义及现状"}},[s._v("#")]),s._v(" 意义及现状")]),s._v(" "),t("p",[s._v("在开发过程中，Git每次提交代码，都需要写Commit message（提交说明），规范的Commit message有很多好处：")]),s._v(" "),t("ul",[t("li",[s._v("方便快速浏览查找，回溯之前的工作内容")]),s._v(" "),t("li",[s._v("可以直接从commit 生成Change log(发布时用于说明版本差异)")])]),s._v(" "),t("p",[s._v("目前我们并没有对commit message进行规范，造成以下麻烦：")]),s._v(" "),t("ul",[t("li",[s._v("每个人风格不同，格式凌乱，查看很不方便")]),s._v(" "),t("li",[s._v("部分commit没有填写message，事后难以得知对应修改的作用")])]),s._v(" "),t("p",[t("strong",[s._v("规范Commit message不仅能解决上述问题，而且基本没有副作用和学习成本，应该尽早加上。")])]),s._v(" "),t("h3",{attrs:{id:"规范方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#规范方式"}},[s._v("#")]),s._v(" 规范方式")]),s._v(" "),t("p",[s._v("为了实现规范，我们使用"),t("a",{attrs:{href:"https://link.juejin.cn?target=https%3A%2F%2Fmarionebl.github.io%2Fcommitlint%2F%23%2F",target:"_blank",rel:"noopener noreferrer"}},[s._v("commitlint"),t("OutboundLink")],1),s._v("和"),t("a",{attrs:{href:"https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftypicode%2Fhusky",target:"_blank",rel:"noopener noreferrer"}},[s._v("husky"),t("OutboundLink")],1),s._v(" 来进行提交检查，当执行"),t("code",[s._v("git commit")]),s._v("时会在对应的git钩子上做校验，只有符合格式的Commit message才能提交成功。")]),s._v(" "),t("p",[s._v("为了方便使用，增加了"),t("a",{attrs:{href:"https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fcommitizen%2Fcz-cli",target:"_blank",rel:"noopener noreferrer"}},[s._v("commitizen"),t("OutboundLink")],1),s._v("支持，使用"),t("a",{attrs:{href:"https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fleonardoanalista%2Fcz-customizable",target:"_blank",rel:"noopener noreferrer"}},[s._v("cz-customizable"),t("OutboundLink")],1),s._v("进行配置。支持使用"),t("code",[s._v("git cz")]),s._v("替代"),t("code",[s._v("git commit")]),s._v("。")]),s._v(" "),t("p",[s._v("有兴趣的小伙伴可以查阅相关文档。")]),s._v(" "),t("p",[t("strong",[s._v("PS: 之后如果要推行代码规范，也可以使用"),t("a",{attrs:{href:"https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftypicode%2Fhusky",target:"_blank",rel:"noopener noreferrer"}},[s._v("husky"),t("OutboundLink")],1),s._v("来在其他的Git钩子(如pre-push等)上进行eslint等校验。")])]),s._v(" "),t("h3",{attrs:{id:"commit-message-格式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#commit-message-格式"}},[s._v("#")]),s._v(" Commit message 格式")]),s._v(" "),t("p",[s._v("为了方便使用，我们避免了过于复杂的规定，格式较为简单且不限制中英文：")]),s._v(" "),t("div",{staticClass:"language-awk line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-awk"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("type"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("scope"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("subject"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token regex"}},[s._v("//")]),s._v(" 注意冒号 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 后有空格\n"),t("span",{pre:!0,attrs:{class:"token regex"}},[s._v("//")]),s._v(" 如 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("feat")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("miniprogram"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 增加了小程序模板消息相关功能\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[t("strong",[s._v("scope选填")]),s._v("表示commit的作用范围，如数据层、视图层，也可以是目录名称 "),t("strong",[s._v("subject必填")]),s._v("用于对commit进行简短的描述 "),t("strong",[s._v("type必填")]),s._v("表示提交类型，值有以下几种：")]),s._v(" "),t("ul",[t("li",[s._v("feat - 新功能 feature")]),s._v(" "),t("li",[s._v("fix - 修复 bug")]),s._v(" "),t("li",[s._v("docs - 文档注释")]),s._v(" "),t("li",[s._v("style - 代码格式(不影响代码运行的变动)")]),s._v(" "),t("li",[s._v("refactor - 重构、优化(既不增加新功能，也不是修复bug)")]),s._v(" "),t("li",[s._v("perf - 性能优化")]),s._v(" "),t("li",[s._v("test - 增加测试")]),s._v(" "),t("li",[s._v("chore - 构建过程或辅助工具的变动")]),s._v(" "),t("li",[s._v("revert - 回退")]),s._v(" "),t("li",[s._v("build - 打包")])]),s._v(" "),t("p",[t("strong",[s._v("如何加入项目")])]),s._v(" "),t("div",{staticClass:"language-awk line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-awk"}},[t("code",[t("span",{pre:!0,attrs:{class:"token regex"}},[s._v("//")]),s._v(" commitlint\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" 项目目录下安装\nnpm i commitlint "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("save"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("dev\nnpm i @commitlint"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("config"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("conventional "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("save"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("dev\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" 在项目目录下，新建配置文件 commitlint.config.js， 内容如下\nmodule.exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  extends"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("'@commitlint"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("config"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("conventional'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  rules"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token regex"}},[s._v("//")]),s._v(" type 类型定义\n    'type"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("enum'"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 'always'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"feat"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[s._v("//")]),s._v(" 新功能 feature\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fix"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[s._v("//")]),s._v(" 修复 bug\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"docs"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[s._v("//")]),s._v(" 文档注释\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"style"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[s._v("//")]),s._v(" 代码格式"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("不影响代码运行的变动"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"refactor"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[s._v("//")]),s._v(" 重构"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("既不增加新功能，也不是修复bug"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"perf"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[s._v("//")]),s._v(" 性能优化\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"test"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[s._v("//")]),s._v(" 增加测试\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"chore"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[s._v("//")]),s._v(" 构建过程或辅助工具的变动\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"revert"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[s._v("//")]),s._v(" 回退\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"build"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[s._v("//")]),s._v(" 打包\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token regex"}},[s._v("//")]),s._v(" subject 大小写不做校验\n    "),t("span",{pre:!0,attrs:{class:"token regex"}},[s._v("//")]),s._v(" 自动部署的BUILD ROBOT的commit信息大写，以作区别\n    'subject"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v("'"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n\n"),t("span",{pre:!0,attrs:{class:"token regex"}},[s._v("//")]),s._v(" husky\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" 项目目录下安装\nnpm i husky "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("save"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("dev\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" 在package.json文件中增加相关配置\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"husky"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hooks"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"commit-msg"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"commitlint -E HUSKY_GIT_PARAMS"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token regex"}},[s._v("//")]),s._v(" commitizen\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" 全局安装\nnpm install commitizen "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("g\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" 项目目录下安装\nnpm install commitizen "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("save"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("dev\ncommitizen init cz"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("customizable "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("save "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("save"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("exact\n\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" 在package.json文件中增加相关配置\n"),t("span",{pre:!0,attrs:{class:"token regex"}},[s._v("//")]),s._v(" 注意这里的path可能要根据实际情况进行修改，如nAdmin项目\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"config"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"commitizen"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"path"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./node_modules/cz-customizable"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token regex"}},[s._v("//")]),s._v(" 在项目目录下，新建配置文件 .cz"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("config.js\n'use strict'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nmodule.exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  types"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("value"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 'feat'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("     name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 'feat"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("     新功能'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("value"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 'fix'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("      name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 'fix"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("      修复'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("value"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 'docs'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("     name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 'docs"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("     文档变更'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("value"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 'style'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("    name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 'style"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("    代码格式"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("不影响代码运行的变动"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("value"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 'refactor'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 'refactor"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 重构"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("既不是增加feature，也不是修复bug"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("value"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 'perf'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("     name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 'perf"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("     性能优化'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("value"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 'test'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("     name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 'test"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("     增加测试'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("value"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 'chore'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("    name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 'chore"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("    构建过程或辅助工具的变动'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("value"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 'revert'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("   name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 'revert"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("   回退'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("value"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 'build'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("    name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 'build"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("    打包'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token regex"}},[s._v("//")]),s._v(" override the messages"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" defaults are as follows\n  messages"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    type"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" '请选择提交类型"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token regex"}},[s._v("//")]),s._v(" scope"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" '请输入文件修改范围"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("可选"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token regex"}},[s._v("//")]),s._v(" used "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" allowCustomScopes is true\n    customScope"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" '请输入修改范围"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("可选"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    subject"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" '请简要描述提交"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("必填"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    body"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" '请输入详细描述"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("可选，待优化去除，跳过即可"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token regex"}},[s._v("//")]),s._v(" breaking"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 'List any BREAKING "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("CHANGES")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("optional"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\\n'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    footer"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" '请输入要关闭的"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("issue")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("待优化去除，跳过即可"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    confirmCommit"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" '确认使用以上信息提交？"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("y"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("e"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("h"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("'\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  allowCustomScopes"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" true"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token regex"}},[s._v("//")]),s._v(" allowBreakingChanges"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("'feat'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 'fix'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  skipQuestions"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("'body'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 'footer'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token regex"}},[s._v("//")]),s._v(" limit subject length"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" commitlint默认是"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("72")]),s._v("\n  subjectLimit"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("72")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br"),t("span",{staticClass:"line-number"},[s._v("52")]),t("br"),t("span",{staticClass:"line-number"},[s._v("53")]),t("br"),t("span",{staticClass:"line-number"},[s._v("54")]),t("br"),t("span",{staticClass:"line-number"},[s._v("55")]),t("br"),t("span",{staticClass:"line-number"},[s._v("56")]),t("br"),t("span",{staticClass:"line-number"},[s._v("57")]),t("br"),t("span",{staticClass:"line-number"},[s._v("58")]),t("br"),t("span",{staticClass:"line-number"},[s._v("59")]),t("br"),t("span",{staticClass:"line-number"},[s._v("60")]),t("br"),t("span",{staticClass:"line-number"},[s._v("61")]),t("br"),t("span",{staticClass:"line-number"},[s._v("62")]),t("br"),t("span",{staticClass:"line-number"},[s._v("63")]),t("br"),t("span",{staticClass:"line-number"},[s._v("64")]),t("br"),t("span",{staticClass:"line-number"},[s._v("65")]),t("br"),t("span",{staticClass:"line-number"},[s._v("66")]),t("br"),t("span",{staticClass:"line-number"},[s._v("67")]),t("br"),t("span",{staticClass:"line-number"},[s._v("68")]),t("br"),t("span",{staticClass:"line-number"},[s._v("69")]),t("br"),t("span",{staticClass:"line-number"},[s._v("70")]),t("br"),t("span",{staticClass:"line-number"},[s._v("71")]),t("br"),t("span",{staticClass:"line-number"},[s._v("72")]),t("br"),t("span",{staticClass:"line-number"},[s._v("73")]),t("br"),t("span",{staticClass:"line-number"},[s._v("74")]),t("br"),t("span",{staticClass:"line-number"},[s._v("75")]),t("br"),t("span",{staticClass:"line-number"},[s._v("76")]),t("br"),t("span",{staticClass:"line-number"},[s._v("77")]),t("br"),t("span",{staticClass:"line-number"},[s._v("78")]),t("br"),t("span",{staticClass:"line-number"},[s._v("79")]),t("br"),t("span",{staticClass:"line-number"},[s._v("80")]),t("br"),t("span",{staticClass:"line-number"},[s._v("81")]),t("br"),t("span",{staticClass:"line-number"},[s._v("82")]),t("br"),t("span",{staticClass:"line-number"},[s._v("83")]),t("br"),t("span",{staticClass:"line-number"},[s._v("84")]),t("br"),t("span",{staticClass:"line-number"},[s._v("85")]),t("br"),t("span",{staticClass:"line-number"},[s._v("86")]),t("br"),t("span",{staticClass:"line-number"},[s._v("87")]),t("br")])]),t("h3",{attrs:{id:"自动生成change-log"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自动生成change-log"}},[s._v("#")]),s._v(" 自动生成Change log")]),s._v(" "),t("p",[s._v("使用"),t("code",[s._v("npm run changelog")]),s._v("自动生成CHANGELOG.md文件。")]),s._v(" "),t("p",[s._v("规范了Commit格式之后，发布新版本时，使用"),t("a",{attrs:{href:"https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fconventional-changelog%2Fconventional-changelog%23conventional-changelog",target:"_blank",rel:"noopener noreferrer"}},[s._v("Conventional Changelog"),t("OutboundLink")],1),s._v("就能够自动生成Change log，生成的文档包括以下3个部分：")]),s._v(" "),t("ul",[t("li",[s._v("New features")]),s._v(" "),t("li",[s._v("Bug fixes")]),s._v(" "),t("li",[s._v("Breaking changes(不向上兼容的部分，我们的规范不要求footer，所以这一项不会出现)")])]),s._v(" "),t("p",[s._v("每个部分都会罗列相关的 commit ，并且有指向这些 commit 的链接。当然，生成的文档允许手动修改，所以发布前，你还可以添加其他内容。")]),s._v(" "),t("p",[t("strong",[s._v("如何加入项目")])]),s._v(" "),t("div",{staticClass:"language-awk line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-awk"}},[t("code",[t("span",{pre:!0,attrs:{class:"token regex"}},[s._v("//")]),s._v(" 安装\nnpm i conventional"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("changelog"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("cli "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("save"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("dev\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" 在package.json中加入配置方便使用\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"scripts"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"changelog"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"conventional-changelog -p angular -i CHANGELOG.md -s"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token regex"}},[s._v("//")]),s._v(" 项目目录下生成 CHANGELOG.md 文件\nnpm run changelog\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h3",{attrs:{id:"加入项目之后的工作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#加入项目之后的工作"}},[s._v("#")]),s._v(" 加入项目之后的工作")]),s._v(" "),t("ol",[t("li",[s._v("在readme中增加文档")]),s._v(" "),t("li",[s._v("提交package-lock.json(如果因为安装依赖导致变化)")])]),s._v(" "),t("h3",{attrs:{id:"配置完成后其他人如何使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置完成后其他人如何使用"}},[s._v("#")]),s._v(" 配置完成后其他人如何使用")]),s._v(" "),t("ol",[t("li",[s._v("将配置测试完成的代码合并至主分支。")]),s._v(" "),t("li",[s._v("其他开发者需要重新执行"),t("code",[s._v("sudo npm i")]),s._v("安装相关依赖。")]),s._v(" "),t("li",[s._v("如果要使用"),t("code",[s._v("commitizen")]),s._v("，需要全局安装"),t("code",[s._v("sudo npm i commitizen -g")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);