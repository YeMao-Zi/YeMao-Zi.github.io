(window.webpackJsonp=window.webpackJsonp||[]).push([[142],{518:function(s,a,e){"use strict";e.r(a);var t=e(5),n=Object(t.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"changesets"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#changesets"}},[s._v("#")]),s._v(" changesets")]),s._v(" "),a("p",[a("code",[s._v("changesets")]),s._v(" 主要关心 "),a("code",[s._v("monorepo")]),s._v(" 项目下子项目版本的更新、"),a("code",[s._v("changelog")]),s._v(" 文件生成、包的发布。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("pnpm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" @changesets/cli "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-D")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("strong",[s._v("特点")])]),s._v(" "),a("ul",[a("li",[s._v("在开发时，需要开发者提供本次变更涉及的包名称、升级版本类型("),a("code",[s._v("patch")]),s._v("、"),a("code",[s._v("minor")]),s._v("、"),a("code",[s._v("major")]),s._v(")及变更信息，即 "),a("code",[s._v("changeset")]),s._v("。")]),s._v(" "),a("li",[s._v("在发布版本时，会根据 "),a("code",[s._v("changeset")]),s._v(" 自动升级对应包的版本号，并在对应的包中生成 "),a("code",[s._v("Changelog")]),s._v(" 信息。")]),s._v(" "),a("li",[s._v("在 "),a("code",[s._v("Monorepo")]),s._v(" 场景中，"),a("code",[s._v("changeset")]),s._v(" 会自动生成仓库依赖图，升级时只会升级变更包及相关依赖包的版本号。")])]),s._v(" "),a("h2",{attrs:{id:"初始化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#初始化"}},[s._v("#")]),s._v(" 初始化")]),s._v(" "),a("p",[s._v("执行 "),a("code",[s._v("changeset init")]),s._v("，在项目根目录下生成一个 "),a("code",[s._v(".changeset")]),s._v(" 目录，里面会生成一个 "),a("code",[s._v("changeset")]),s._v(" 的 "),a("code",[s._v("config")]),s._v(" 文件")]),s._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"$schema"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://unpkg.com/@changesets/config@2.3.0/schema.json"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"changelog"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@changesets/cli/changelog"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"commit"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"fixed"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"linked"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"access"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"restricted"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"baseBranch"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"master"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"updateInternalDependencies"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"patch"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"ignore"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("ul",[a("li",[a("code",[s._v("commit")]),s._v("：为 "),a("code",[s._v("true")]),s._v(" 时，在执行 "),a("code",[s._v("change")]),s._v(" 和 "),a("code",[s._v("version")]),s._v(" 命令时，将自动执行提交代码操作")]),s._v(" "),a("li",[a("code",[s._v("fixed")]),s._v("：用于 "),a("code",[s._v("monorepo")]),s._v(" 中对包进行分组，相同分组中的包版本号将进行绑定，每次执行 "),a("code",[s._v("version")]),s._v(" 命令时，同一分组中的包只要有一个升级版本号，其他会一起升级。支持使用正则匹配包名称。")]),s._v(" "),a("li",[a("code",[s._v("linked")]),s._v("：和 "),a("code",[s._v("fixed")]),s._v(" 类似，也是对 "),a("code",[s._v("monorepo")]),s._v(" 中对包进行分组，但是每次执行 "),a("code",[s._v("version")]),s._v(" 命令时，只有和 "),a("code",[s._v("changeset")]),s._v(" 声明的变更相关的包才会升级版本号，同一分组的变更包的版本号将保持一致。支持使用正则匹配包名称。")]),s._v(" "),a("li",[a("code",[s._v("access")]),s._v("：如果配置为 "),a("code",[s._v("restricted")]),s._v("，将作为私有包发布，如果为 "),a("code",[s._v("public")]),s._v("，则发布公共范围包。")])]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),a("p",[s._v("对于仓库中存在部分包需要配置 access，可以在 package.json 中配置 publishConfig，例如：")]),s._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"publishConfig"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"registry"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://registry.npmjs.org/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"access"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"public"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])])]),s._v(" "),a("ul",[a("li",[a("code",[s._v("baseBranch")]),s._v("：仓库主分支。该配置用于计算当前分支的变更包并进行分类。")]),s._v(" "),a("li",[a("code",[s._v("updateInternalDependencies")]),s._v("：用于声明更新内部依赖的版本号规则。当执行 "),a("code",[s._v("version")]),s._v(" 命令升级版本号时，默认会自动更新仓库中使用该包的依赖声明。配置该字段为 "),a("code",[s._v("minor")]),s._v(" 后，如果升级版本号为 "),a("code",[s._v("patch")]),s._v(" 类型，将不会自动更新引用依赖声明。")])]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),a("p",[s._v("e.g.,当配置 updateInternalDependencies 为 minor 时，升级 pkg-a 至 1.0.1 时，pkg-b 中的 pkg-a 的依赖版本将不会更新，只有 pkg-a 升级版本号为 1.1.0 或者 2.0.0 时，才会更新 pkg-b 中的 pkg-a 的依赖。")])]),s._v(" "),a("ul",[a("li",[a("code",[s._v("changelog")]),s._v("：配置为 "),a("code",[s._v("false")]),s._v(" 时，执行 "),a("code",[s._v("version")]),s._v(" 命令时，在 "),a("code",[s._v("CHANGELOG.md")]),s._v(" 文件中只声明版本号，不声明其他 "),a("code",[s._v("Changelog")]),s._v(" 信息。")]),s._v(" "),a("li",[a("code",[s._v("ignore")]),s._v("：用于声明执行 version 命令时忽略的包，和 "),a("code",[s._v("version")]),s._v(" 命令的 "),a("code",[s._v("--ignore")]),s._v(" 参数用法一致，注意两者不能同时使用。")])]),s._v(" "),a("h2",{attrs:{id:"第一次发布"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第一次发布"}},[s._v("#")]),s._v(" 第一次发布")]),s._v(" "),a("p",[s._v("在项目根目录下直接运行下方指令为子项目发布第一个版本。发布完成后，提交代码~")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("pnpm")]),s._v(" run build\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("pnpm")]),s._v(" changeset publish\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),a("ul",[a("li",[a("p",[a("code",[s._v("@xxx/xx")]),s._v(" 形式的包会被当作私有包，默认需要以组织的方式登录，可以通过参数发布为公共包")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("pnpm")]),s._v(" publish "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--access")]),s._v(" public\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[a("code",[s._v("changeset publish")]),s._v(" 时指定参数不生效，此时可以在 "),a("code",[s._v("package.json")]),s._v(" 中指定配置")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"publishConfig"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"access"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"public"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("不需要发布的包可以在 "),a("code",[s._v("package.json")]),s._v(" 中设置")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"private"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])])])]),s._v(" "),a("h2",{attrs:{id:"生成changeset文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#生成changeset文件"}},[s._v("#")]),s._v(" 生成changeset文件")]),s._v(" "),a("p",[s._v("一个 "),a("code",[s._v("changeset")]),s._v(" 是个包含了在某个分支或者 "),a("code",[s._v("commit")]),s._v(" 上改动信息的 "),a("code",[s._v("md")]),s._v(" 文件，包含的内容包括：")]),s._v(" "),a("ul",[a("li",[s._v("本次变更涉及哪些包的变更。")]),s._v(" "),a("li",[s._v("本次变更需要升级的版本号类型，类型符合 "),a("a",{attrs:{href:"https://peiyanlu.github.io/vite-press/npm/SemVer",target:"_blank",rel:"noopener noreferrer"}},[s._v("semver"),a("OutboundLink")],1),s._v(" 规范。")]),s._v(" "),a("li",[s._v("本次变更的 "),a("code",[s._v("Changelog")]),s._v(" 信息。")])]),s._v(" "),a("p",[s._v("这个文件的本质是对包的版本和 "),a("code",[s._v("Changelog")]),s._v(" 做一个预存储，我们也可以在这些文件中修改信息。")]),s._v(" "),a("p",[a("strong",[s._v("模块工程方案")])]),s._v(" "),a("p",[s._v("在根目录执行 "),a("code",[s._v("pnpm changeset add")]),s._v("，选择本次变更需要升级的版本号类型，填入 "),a("code",[s._v("Changelog")]),s._v(" 信息，并点击两次回车，执行完成后，将在项目的 "),a("code",[s._v(".changeset")]),s._v(" 目录创建对应的 "),a("code",[s._v("changeset")]),s._v(" 文件")]),s._v(" "),a("p",[a("strong",[s._v("Monorepo 工程方案")])]),s._v(" "),a("p",[s._v("在根目录执行 "),a("code",[s._v("pnpm changeset add")]),s._v("，选择本次需要升级的包列表，分别选择不同版本类型对应的包，"),a("code",[s._v("changeset")]),s._v(" 会询问版本号类型，如果存在包未选择这两种类型，将会默认使用 "),a("code",[s._v("patch")]),s._v(" 类型，填入 "),a("code",[s._v("Changelog")]),s._v(" 信息，并点击两次回车，执行完成后，将在项目的 "),a("code",[s._v(".changeset")]),s._v(" 目录创建对应的 "),a("code",[s._v("changeset")]),s._v(" 文件")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),a("ul",[a("li",[s._v("假设现在要进行迭代，我们从主分支上切一个分支出来，完成代码修改，如果需要变更记录，执行 "),a("code",[s._v("pnpm changeset add")]),s._v(" 命令生成 "),a("code",[s._v("changeset")]),s._v(" 文件，最后提交代码。")]),s._v(" "),a("li",[a("code",[s._v("changeset")]),s._v(" 文件需要一并提交到远程仓库中。在后续的新版本发布后，这些 "),a("code",[s._v("changeset")]),s._v(" 文件是会被自动消耗掉的。")])])]),s._v(" "),a("h2",{attrs:{id:"发布测试版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#发布测试版本"}},[s._v("#")]),s._v(" 发布测试版本")]),s._v(" "),a("ol",[a("li",[s._v("进入 "),a("code",[s._v("pre")]),s._v(" 模式")])]),s._v(" "),a("p",[s._v("执行下方命令中的一条")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("pnpm")]),s._v(" changeset pre enter alpha   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 发布 alpha 版本")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("pnpm")]),s._v(" changeset pre enter beta    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 发布 beta 版本")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("pnpm")]),s._v(" changeset pre enter rc      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 发布 rc 版本")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("修改包的版本")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("pnpm")]),s._v(" changeset version`\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("执行后包的版本发生变化，其他项目以来的此包的版本也相应发生变化")]),s._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[s._v("发布测试版本")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("pnpm")]),s._v(" run build\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("pnpm")]),s._v(" changeset publish\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ol",{attrs:{start:"4"}},[a("li",[s._v("退出 "),a("code",[s._v("pre")]),s._v(" 模式")])]),s._v(" "),a("p",[s._v("发布前退出模式")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("pnpm")]),s._v(" changeset pre "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"发布正式版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#发布正式版本"}},[s._v("#")]),s._v(" 发布正式版本")]),s._v(" "),a("ol",[a("li",[s._v("修改版本号")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("pnpm")]),s._v(" changeset version\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("发布")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("pnpm")]),s._v(" changeset publish\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("code",[s._v("changeset")]),s._v(" 会检查当前工作区中所有包的版本是否已经被发布过，如果没有则自动发布。")])])}),[],!1,null,null,null);a.default=n.exports}}]);