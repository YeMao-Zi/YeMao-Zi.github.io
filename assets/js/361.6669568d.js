(window.webpackJsonp=window.webpackJsonp||[]).push([[361],{737:function(s,t,a){"use strict";a.r(t);var n=a(5),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("è¿æ¥æ•°æ®åº“çš„æ—¶å€™ï¼Œæˆ‘ä»¬æŒ‡å®šäº†ç”¨æˆ·åã€å¯†ç ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2025/07/30/4qUQ5TmtR18xhzI.png",alt:""}})]),s._v(" "),t("p",[s._v("åº”ç”¨å¯åŠ¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬æŒ‡å®šäº†ç«¯å£ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2025/07/30/fa6Hc4bhG7MnRlT.png",alt:""}})]),s._v(" "),t("p",[s._v("è€Œè¿™äº›å…¶å®éƒ½æ˜¯å¯ä»¥å˜çš„ï¼Œåœ¨ä»£ç é‡Œå†™æ­»æ˜¾ç„¶ä¸å¤ªå¥½ã€‚")]),s._v(" "),t("p",[s._v("èƒ½ä¸èƒ½æŠ½å–å‡ºæ¥æ”¾åˆ°é…ç½®æ–‡ä»¶é‡Œå‘¢ï¼Ÿ")]),s._v(" "),t("p",[s._v("è‡ªç„¶æ˜¯å¯ä»¥çš„ã€‚")]),s._v(" "),t("p",[s._v("node é‡Œæœ€å¸¸ç”¨çš„æ˜¯ .env æ ¼å¼çš„é…ç½®æ–‡ä»¶ï¼Œå®ƒæœ‰ä¸€ä¸ªä¸“é—¨çš„ npm åŒ… dotenvã€‚")]),s._v(" "),t("p",[s._v("æˆ‘ä»¬åˆ›å»ºä¸ªé¡¹ç›®æ¥è¯•ä¸€ä¸‹ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2025/07/30/aGANpw1tuvlQ2fM.png",alt:""}})]),s._v(" "),t("h2",{attrs:{id:"è¿›å…¥è¿™ä¸ªç›®å½•-å®‰è£…-dotenv"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#è¿›å…¥è¿™ä¸ªç›®å½•-å®‰è£…-dotenv"}},[s._v("#")]),s._v(" è¿›å…¥è¿™ä¸ªç›®å½•ï¼Œå®‰è£… dotenvï¼š")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("npm install dotenv\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"ç„¶åæ·»åŠ ä¸€ä¸ª-env-é…ç½®æ–‡ä»¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ç„¶åæ·»åŠ ä¸€ä¸ª-env-é…ç½®æ–‡ä»¶"}},[s._v("#")]),s._v(" ç„¶åæ·»åŠ ä¸€ä¸ª .env é…ç½®æ–‡ä»¶ï¼š")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("aaa=1\nbbb=2\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("åœ¨ index.js é‡Œé€šè¿‡ dotenv æ¥åŠ è½½ï¼š")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dotenv"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("config")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("path")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./.env"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nconsole"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("process"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("env"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("node æ‰§è¡Œä¸‹ï¼š")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("node index.js\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2025/07/30/yjOb6sqtRKJLIAY.png",alt:""}})]),s._v(" "),t("p",[s._v("ä»–æ‰“å°çš„ç¯å¢ƒå˜é‡é‡Œå°±åŒ…å«äº†é…ç½®æ–‡ä»¶é‡Œçš„ã€‚")]),s._v(" "),t("p",[s._v("é‚£å¦‚æœæˆ‘è¿˜æœ‰ä¸ªç”Ÿäº§ç¯å¢ƒçš„é…ç½®æ–‡ä»¶å‘¢ï¼Ÿ")]),s._v(" "),t("p",[s._v("æ¯”å¦‚ .production.env")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("aaa=111\nbbb=222\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("æˆ‘ä»¬å¯ä»¥é€šè¿‡ NODE_ENVIRONMENT ç¯å¢ƒå˜é‡æ¥åˆ‡æ¢ï¼š")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dotenv"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("config")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("path")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" process"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("env"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NODE_ENVIRONMENT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"production"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('".production.env"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('".env"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nconsole"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"aaa"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" process"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("env"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("aaa"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nconsole"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bbb"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" process"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("env"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bbb"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("ç”Ÿäº§ç¯å¢ƒè®¾ç½® NODE_ENVIRONMENT ä¸º productionï¼Œå°±å¯ä»¥åˆ‡æ¢åˆ°å¯¹åº”çš„é…ç½®äº†ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2025/07/30/sbfplIMojEzn4hq.png",alt:""}})]),s._v(" "),t("p",[s._v("å¦‚æœä½ æ‰‹åŠ¨ç½®é¡¶äº†ç¯å¢ƒå˜é‡ï¼Œé‚£ä»¥æ‰‹åŠ¨æŒ‡å®šçš„ä¼˜å…ˆï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2025/07/30/G2ImPZ4awdoUuBS.png",alt:""}})]),s._v(" "),t("h2",{attrs:{id:"æ­¤å¤–-å¦‚æœä½ æƒ³ç”¨-yaml-æ ¼å¼çš„é…ç½®æ–‡ä»¶ä¹Ÿå¯ä»¥ã€‚"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ­¤å¤–-å¦‚æœä½ æƒ³ç”¨-yaml-æ ¼å¼çš„é…ç½®æ–‡ä»¶ä¹Ÿå¯ä»¥ã€‚"}},[s._v("#")]),s._v(" æ­¤å¤–ï¼Œå¦‚æœä½ æƒ³ç”¨ yaml æ ¼å¼çš„é…ç½®æ–‡ä»¶ä¹Ÿå¯ä»¥ã€‚")]),s._v(" "),t("p",[s._v("å®‰è£… js-yaml åŒ…ï¼š")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("npm install js-yaml\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("ç„¶åæ·»åŠ ä¸€ä¸ª hello.yaml é…ç½®æ–‡ä»¶ï¼š")]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("application")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("host")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"localhost"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("port")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("db")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("mysql")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("url")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"localhost"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("port")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("database")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"aaa"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("password")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"guang"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("ç„¶ååœ¨ index2.js é‡Œç”¨ä¸€ä¸‹ï¼š")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" yaml "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"js-yaml"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" fs "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fs"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" config "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" fs"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("readFileSync")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./hello.yaml"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nconsole"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("yaml"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("load")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("è·‘ä¸€ä¸‹ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2025/07/30/8UpeOflhMzStWi9.png",alt:""}})]),s._v(" "),t("p",[s._v("å¯ä»¥çœ‹åˆ°ï¼Œç”¨å¯¹è±¡çš„æ–¹å¼æŠŠ yaml çš„é…ç½®ç»™è¿”å›äº†ã€‚")]),s._v(" "),t("p",[t("strong",[s._v("yaml çš„æ ¼å¼æ›´é€‚åˆæœ‰å±‚æ¬¡å…³ç³»çš„é…ç½®ï¼Œè€Œ .env æ›´é€‚åˆç®€å•çš„é…ç½®ã€‚")])]),s._v(" "),t("p",[s._v("åŒæ ·ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ NODE_ENVIRMENT ç¯å¢ƒå˜é‡æ¥åˆ‡æ¢ç”Ÿäº§ã€å¼€å‘çš„é…ç½®æ–‡ä»¶ã€‚")]),s._v(" "),t("p",[s._v("node é‡Œçš„é…ç½®ä¸€èˆ¬å°±ç”¨è¿™ä¸¤ç§æ–¹å¼ã€‚")]),s._v(" "),t("p",[s._v("é‚£åœ¨ Nest é‡Œæ€ä¹ˆç”¨å‘¢ï¼Ÿ")]),s._v(" "),t("p",[s._v("å…¶å®ä¸Šé¢çš„è¿™ä¸¤ç§é…ç½®æ–¹å¼ï¼Œè‡ªå·±å°è£…ä¹Ÿä¸éº»çƒ¦ï¼Œå°è£…ä¸ªåŠ¨æ€æ¨¡å—å°±å¥½ã€‚")]),s._v(" "),t("h2",{attrs:{id:"ä¸è¿‡-nest-æä¾›äº†ç°æˆçš„å°è£…-nestjs-config"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸è¿‡-nest-æä¾›äº†ç°æˆçš„å°è£…-nestjs-config"}},[s._v("#")]),s._v(" ğŸš€ä¸è¿‡ Nest æä¾›äº†ç°æˆçš„å°è£…ï¼š@nestjs/config")]),s._v(" "),t("p",[s._v("æˆ‘ä»¬åˆ›å»ºä¸ª nest é¡¹ç›®æ¥è¯•ä¸‹ï¼š")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("nest new nest-config-test -p npm\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2025/07/30/giCnKY7rFBWaxNv.png",alt:""}})]),s._v(" "),t("h3",{attrs:{id:"å®‰è£…-nestjs-config-åŒ…"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å®‰è£…-nestjs-config-åŒ…"}},[s._v("#")]),s._v(" å®‰è£… @nestjs/config åŒ…ï¼š")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("npm install --save @nestjs/config\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("è¿™ä¸ªåŒ…åŒæ ·æ˜¯åŠ¨æ€æ¨¡å—çš„æ–¹å¼ï¼Œä»–æœ‰ forRoot å’Œ forFeature ä¸¤ä¸ªæ–¹æ³•ã€‚")]),s._v(" "),t("h3",{attrs:{id:"æˆ‘ä»¬åœ¨æ ¹ç›®å½•åŠ ä¸€ä¸ªé…ç½®æ–‡ä»¶-env"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æˆ‘ä»¬åœ¨æ ¹ç›®å½•åŠ ä¸€ä¸ªé…ç½®æ–‡ä»¶-env"}},[s._v("#")]),s._v(" æˆ‘ä»¬åœ¨æ ¹ç›®å½•åŠ ä¸€ä¸ªé…ç½®æ–‡ä»¶ .envï¼š")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("aaa=1\nbbb=2\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("ç„¶ååœ¨ AppModule é‡Œé¢å¼•å…¥ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2025/07/30/bACU3EoKh8mTcLF.png",alt:""}})]),s._v(" "),t("p",[s._v("ç„¶ååœ¨ AppController é‡Œæ³¨å…¥ ConfigService æ¥è¯»å–é…ç½®ï¼š")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" Controller"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Get"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Inject "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@nestjs/common'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" ConfigService "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@nestjs/config'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" AppService "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./app.service'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n@"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Controller")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AppController")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("constructor")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" readonly appService"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" AppService")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  @"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Inject")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ConfigService"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("configService")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" ConfigService"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  @"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Get")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getHello")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("aaa")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("configService"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'aaa'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("bbb")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("configService"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'bbb'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br")])]),t("p",[s._v("æŠŠ Nest æœåŠ¡è·‘èµ·æ¥ï¼š")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("npm run start:dev\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("æµè§ˆå™¨è®¿é—®ä¸‹ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/246bae916869459a953101f87c02c5ec~tplv-k3u1fbpfcp-watermark.image?",alt:""}})]),s._v(" "),t("p",[s._v("å¯ä»¥çœ‹åˆ°ï¼Œnest è¯»å–åˆ°äº† .env é‡Œçš„é…ç½®ã€‚")]),s._v(" "),t("h3",{attrs:{id:"å¦‚æœæœ‰å¤šä¸ªé…ç½®æ–‡ä»¶-æ¯”å¦‚è¿˜æœ‰ä¸ª-aaa-env"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¦‚æœæœ‰å¤šä¸ªé…ç½®æ–‡ä»¶-æ¯”å¦‚è¿˜æœ‰ä¸ª-aaa-env"}},[s._v("#")]),s._v(" å¦‚æœæœ‰å¤šä¸ªé…ç½®æ–‡ä»¶ï¼Œæ¯”å¦‚è¿˜æœ‰ä¸ª .aaa.envï¼š")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("aaa=3\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("åœ¨ AppModule é‡Œé¢è¿™æ ·æŒ‡å®šï¼š")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" Module "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@nestjs/common"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" ConfigModule "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@nestjs/config"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" AppController "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./app.controller"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" AppService "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./app.service"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" path "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"path"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n@"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Module")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("imports")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    ConfigModule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("forRoot")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("envFilePath")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("path"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("join")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("process"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cwd")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('".aaa.env"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" path"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("join")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("process"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cwd")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('".env"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("controllers")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("AppController"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("providers")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("AppService"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AppModule")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br")])]),t("p",[s._v("å‰é¢çš„é…ç½®ä¼šè¦†ç›–åé¢çš„é…ç½®ã€‚")]),s._v(" "),t("p",[s._v("é‡æ–°è·‘ä¸€ä¸‹ï¼š")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("npm run start:dev\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("æµè§ˆå™¨è®¿é—®ä¸‹ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2025/07/30/XTRBuKgnLFf45qb.png",alt:""}})]),s._v(" "),t("p",[s._v("å¯ä»¥çœ‹åˆ° aaa æ˜¯ .aaa.env é‡Œçš„ï¼Œbbb æ˜¯ .env é‡Œçš„ã€‚")]),s._v(" "),t("h3",{attrs:{id:"é‚£å¦‚æœæˆ‘å«Œ-env-é‡Œé…ç½®ä¸å¤Ÿçµæ´»-æƒ³åœ¨-ts-æ–‡ä»¶é‡Œé…ç½®å‘¢"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#é‚£å¦‚æœæˆ‘å«Œ-env-é‡Œé…ç½®ä¸å¤Ÿçµæ´»-æƒ³åœ¨-ts-æ–‡ä»¶é‡Œé…ç½®å‘¢"}},[s._v("#")]),s._v(" é‚£å¦‚æœæˆ‘å«Œ .env é‡Œé…ç½®ä¸å¤Ÿçµæ´»ï¼Œæƒ³åœ¨ ts æ–‡ä»¶é‡Œé…ç½®å‘¢ï¼Ÿ")]),s._v(" "),t("p",[s._v("@nestjs/config ä¹Ÿæ˜¯æ”¯æŒçš„ã€‚")]),s._v(" "),t("p",[s._v("æˆ‘ä»¬å†™ä¸€ä¸ª config.tsï¼š")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("async")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" dbPort "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("port")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("parseInt")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("process"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("env"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PORT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("db")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("host")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"localhost"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("port")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" dbPort"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[s._v("è¿™é‡Œå¯ä»¥å†™å¼‚æ­¥é€»è¾‘ã€‚")]),s._v(" "),t("p",[s._v("ç„¶åå¼•å…¥ä¸‹ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2025/07/30/GpQrKFIz5giNBjU.png",alt:""}})]),s._v(" "),t("p",[s._v("åœ¨ Controller é‡Œå–å‡ºæ¥ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2025/07/30/obIANUQwdC4j8H9.png",alt:""}})]),s._v(" "),t("p",[s._v("æµè§ˆå™¨è®¿é—®ä¸‹ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2025/07/30/DuEhp7Gaf8KUVHI.png",alt:""}})]),s._v(" "),t("p",[s._v("è¿™æ ·ï¼Œä½ å¯ä»¥åŠ¨æ€åŠ è½½é…ç½®ã€‚")]),s._v(" "),t("p",[s._v("åé¢å°†è®²å¾®æœåŠ¡çš„æ—¶å€™ï¼Œä¼šè®²åˆ°é…ç½®ä¸­å¿ƒï¼Œæ¯”å¦‚ nacosã€etcd è¿™ç§ä¸­é—´ä»¶ï¼Œåˆ°æ—¶å€™é…ç½®å°±æ˜¯åŠ¨æ€è·å–çš„ã€‚")]),s._v(" "),t("h3",{attrs:{id:"è€Œä¸”è¿™ä¸ªé…ç½®æ–‡ä»¶é‡Œ-ä½ å®Œå…¨å¯ä»¥è‡ªå·±å®ç°-yaml-æ–‡ä»¶çš„åŠ è½½ã€‚"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#è€Œä¸”è¿™ä¸ªé…ç½®æ–‡ä»¶é‡Œ-ä½ å®Œå…¨å¯ä»¥è‡ªå·±å®ç°-yaml-æ–‡ä»¶çš„åŠ è½½ã€‚"}},[s._v("#")]),s._v(" è€Œä¸”è¿™ä¸ªé…ç½®æ–‡ä»¶é‡Œï¼Œä½ å®Œå…¨å¯ä»¥è‡ªå·±å®ç° yaml æ–‡ä»¶çš„åŠ è½½ã€‚")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("npm install js-yaml\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("æ·»åŠ ä¸€ä¸ªé…ç½®æ–‡ä»¶ aaa.yaml")]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("application")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("host")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"localhost"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("port")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("aaa")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("bbb")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ccc")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ccc"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("port")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v("ç„¶ååœ¨ config2.ts é‡ŒåŠ è½½ä¸‹ï¼š")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" readFile "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fs/promises"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" yaml "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"js-yaml"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" join "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"path"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("async")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" configFilePath "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("join")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("process"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cwd")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"aaa.yaml"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" config "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("readFile")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("configFilePath"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("encoding")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"utf-8"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" yaml"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("load")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("p",[s._v("åœ¨ AppModule å¼•å…¥ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2025/07/30/HAiraVJtC6gQhw9.png",alt:""}})]),s._v(" "),t("p",[s._v("åŒæ ·ï¼Œå‰é¢è¦†ç›–åé¢çš„ã€‚")]),s._v(" "),t("p",[s._v("æ”¹ä¸‹ Controllerï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2025/07/30/VUFsHqnWDx8P9Cf.png",alt:""}})]),s._v(" "),t("p",[s._v("æµè§ˆå™¨è®¿é—®ä¸‹ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2025/07/30/esDAP8pM9jqXH4h.png",alt:""}})]),s._v(" "),t("p",[s._v("è¿™æ ·å°±æ­£ç¡®è¯»å–äº† yaml é…ç½®ã€‚")]),s._v(" "),t("p",[s._v("åŒç†ï¼Œå…¶ä»–æ ¼å¼çš„é…ç½®ä¹Ÿå¯ä»¥è¿™æ ·æ¥è‡ªå·±è§£æã€‚")]),s._v(" "),t("p",[s._v("æ­¤å¤–ï¼Œ@nestjs/config è¿˜æä¾›äº† forFeature æ–¹æ³•æ¥è¿”å›åŠ¨æ€æ¨¡å—ã€‚")]),s._v(" "),t("h3",{attrs:{id:"å¦‚æœåˆ«çš„æ¨¡å—ä¹Ÿéœ€è¦ç”¨åˆ°-config-å’‹åŠå‘¢"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¦‚æœåˆ«çš„æ¨¡å—ä¹Ÿéœ€è¦ç”¨åˆ°-config-å’‹åŠå‘¢"}},[s._v("#")]),s._v(" å¦‚æœåˆ«çš„æ¨¡å—ä¹Ÿéœ€è¦ç”¨åˆ° config å’‹åŠå‘¢ï¼Ÿ")]),s._v(" "),t("p",[s._v("æˆ‘ä»¬æ–°å»ºä¸€ä¸ªæ¨¡å—ï¼š")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("nest g resource bbb --no-spec\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2025/07/30/rJSLDWwj7GlYAE6.png",alt:""}})]),s._v(" "),t("p",[s._v("åœ¨ BbbModule é‡Œæ³¨å…¥ä¸‹ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2025/07/30/D4RTU7VSZy3AOml.png",alt:""}})]),s._v(" "),t("p",[s._v("è·‘èµ·æ¥ä½ ä¼šå‘ç°æŠ¥é”™äº†ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2025/07/30/cNZGMR7dxmLyfvk.png",alt:""}})]),s._v(" "),t("p",[s._v("è¿™ä¸ªæ¨¡å—æ‰¾ä¸åˆ° ConfigModuleã€‚")]),s._v(" "),t("p",[s._v("è¿™æ—¶å€™æŠŠ ConfigModule.forRoot æ³¨å†Œä¸ºå…¨å±€æ¨¡å—å°±å¥½äº†ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2025/07/30/1RtBjXgE9TkHPyd.png",alt:""}})]),s._v(" "),t("p",[s._v("è¿™æ ·å°±å¯ä»¥åœ¨ BbbModule è¯»å–åˆ°é…ç½®äº†ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2025/07/30/HedtFfJvXrwhGVP.png",alt:""}})]),s._v(" "),t("h3",{attrs:{id:"æ­¤å¤–-ä½ è¿˜å¯ä»¥é€šè¿‡-configmodule-forfeautrue-æ¥æ³¨å†Œå±€éƒ¨é…ç½®"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ­¤å¤–-ä½ è¿˜å¯ä»¥é€šè¿‡-configmodule-forfeautrue-æ¥æ³¨å†Œå±€éƒ¨é…ç½®"}},[s._v("#")]),s._v(" æ­¤å¤–ï¼Œä½ è¿˜å¯ä»¥é€šè¿‡ ConfigModule.forFeautrue æ¥æ³¨å†Œå±€éƒ¨é…ç½®ï¼š")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" Module "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@nestjs/common"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" BbbService "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./bbb.service"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" BbbController "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./bbb.controller"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" ConfigModule "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@nestjs/config"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n@"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Module")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("imports")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    ConfigModule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("forFeature")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("ddd")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("222")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("controllers")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("BbbController"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("providers")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("BbbService"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BbbModule")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br")])]),t("p",[s._v("BbbController é‡Œè¯»å–ä¸‹ï¼š")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[s._v("@"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Get")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("findAll")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("ccc")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("configService"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'aaa.bbb.ccc'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("ddd")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("configService"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ddd'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("å¯ä»¥çœ‹åˆ°ï¼ŒNest è¯»å–åˆ°äº†è¿™ä¸ªå±€éƒ¨æ³¨å†Œçš„é…ç½®ã€‚")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2025/07/30/8kdV1nuRYlyMbxU.png",alt:""}})]),s._v(" "),t("p",[s._v("è¿™é‡Œæ˜¯å†æ¬¡éªŒè¯äº†"),t("strong",[s._v("åŠ¨æ€æ¨¡å—çš„ forRoot ç”¨äºåœ¨ AppModule é‡Œæ³¨å†Œï¼Œä¸€èˆ¬æŒ‡å®šä¸ºå…¨å±€æ¨¡å—ï¼ŒforFeature ç”¨äºå±€éƒ¨é…ç½®ï¼Œåœ¨ä¸åŒæ¨¡å—é‡Œ importsï¼Œè€Œ register ç”¨äºä¸€æ¬¡æ€§çš„é…ç½®ã€‚")])]),s._v(" "),t("p",[s._v("æ¯”å¦‚ JwtModule.registerã€TypeOrmModule.ForRootã€TypeOrmModule.forFeatureã€‚")]),s._v(" "),t("p",[s._v("å¯¹åŠ¨æ€æ¨¡å—ä¸å¤ªç†è§£çš„åŒå­¦å»ºè®®å›è¿‡å¤´å»çœ‹çœ‹ç¬¬ 15 èŠ‚ã€‚")]),s._v(" "),t("h3",{attrs:{id:"æœ€åæˆ‘ä»¬ç®€å•çœ‹ä¸€ä¸‹-nestjs-config-çš„æºç "}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ€åæˆ‘ä»¬ç®€å•çœ‹ä¸€ä¸‹-nestjs-config-çš„æºç "}},[s._v("#")]),s._v(" æœ€åæˆ‘ä»¬ç®€å•çœ‹ä¸€ä¸‹ @nestjs/config çš„æºç ï¼š")]),s._v(" "),t("p",[s._v("å…ˆæ˜¯ forFeatureï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2025/07/30/HLcUYlQdeS41RaD.png",alt:""}})]),s._v(" "),t("p",[s._v("åŠ¨æ€è¿”å›æ¨¡å—å®šä¹‰ï¼Œä¹Ÿå°±æ˜¯ providersã€exports è¿™äº›ã€‚")]),s._v(" "),t("p",[s._v("ç”¨ useFactory åŠ¨æ€åˆ›å»ºäº† providerï¼Œmerge äº†å±€éƒ¨é…ç½®å’Œå…¨å±€é…ç½®ã€‚")]),s._v(" "),t("p",[s._v("ç„¶åæ˜¯ forRootï¼š")]),s._v(" "),t("p",[s._v("å®ƒå°±æ˜¯æ ¹æ® options è¯»å– env é…ç½®ï¼Œç„¶åç”¨ useFactory åˆ›å»º ConfigService çš„ providerï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2025/07/30/QAU7GuaegjF1fcP.png",alt:""}})]),s._v(" "),t("p",[s._v("ä¹‹ååŠ¨æ€è¿”å›æ¨¡å—å®šä¹‰ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2025/07/30/Q7LbOGBS42hVln8.png",alt:""}})]),s._v(" "),t("p",[s._v("è¿˜æ˜¯åŠ¨æ€æ¨¡å—é‚£äº›çŸ¥è¯†ã€‚")]),s._v(" "),t("p",[s._v("æ¡ˆä¾‹ä»£ç ï¼š")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://github.com/QuarkGluonPlasma/nestjs-course-code/tree/main/config-test",target:"_blank",rel:"noopener noreferrer"}},[s._v("Node è¯»å– envã€yaml é…ç½®æ–‡ä»¶"),t("OutboundLink")],1)]),s._v(" "),t("p",[t("a",{attrs:{href:"https://github.com/QuarkGluonPlasma/nestjs-course-code/tree/main/nest-config-test",target:"_blank",rel:"noopener noreferrer"}},[s._v("Nest é€šè¿‡ Config æ¨¡å—è¯»å–é…ç½®æ–‡ä»¶"),t("OutboundLink")],1)]),s._v(" "),t("h2",{attrs:{id:"æ€»ç»“"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“"}},[s._v("#")]),s._v(" æ€»ç»“")]),s._v(" "),t("p",[s._v("è¿™èŠ‚æˆ‘ä»¬å­¦ä¹ äº†é…ç½®æ–‡ä»¶çš„ä½¿ç”¨æ–¹å¼ï¼ŒåŸºäº dotenvã€js-yaml å¯ä»¥è¯»å– .env å’Œ yaml çš„é…ç½®æ–‡ä»¶ã€‚")]),s._v(" "),t("p",[s._v("æˆ‘ä»¬å¯ä»¥é€šè¿‡ NODE_ENVIRONMENT æ¥åˆ‡æ¢ä¸åŒè·¯å¾„çš„é…ç½®æ–‡ä»¶ï¼Œå®ç°å¼€å‘ã€ç”Ÿäº§ç¯å¢ƒçš„é…ç½®åˆ‡æ¢ã€‚")]),s._v(" "),t("p",[s._v("Nest æä¾›äº† @nestjs/config åŒ…æ¥å°è£…ï¼Œä½¿ç”¨ ConfigModule.forRoot å¯ä»¥è¯»å– .env é…ç½®æ–‡ä»¶ï¼Œç„¶åæ³¨å…¥ ConfigService æ¥å–é…ç½®ã€‚")]),s._v(" "),t("p",[s._v("è¿˜å¯ä»¥é€šè¿‡ ConfigModule.forFeature æ¥æ³¨å†Œå±€éƒ¨é…ç½®ã€‚")]),s._v(" "),t("p",[s._v("å®ƒçš„åŸç†ä¹Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯é€šè¿‡ useFactory åŠ¨æ€äº§ç”Ÿ providerï¼Œç„¶ååœ¨ forRootã€forFeature é‡ŒåŠ¨æ€è¿”å›æ¨¡å—å®šä¹‰ã€‚")]),s._v(" "),t("p",[s._v("å­¦ä¹ äº† ConfigModule ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠæ•°æ®åº“è¿æ¥ä¿¡æ¯ã€åº”ç”¨å¯åŠ¨ç«¯å£ç­‰æŠ½ç¦»åˆ°é…ç½®æ–‡ä»¶äº†ã€‚")])])}),[],!1,null,null,null);t.default=e.exports}}]);