(window.webpackJsonp=window.webpackJsonp||[]).push([[186],{563:function(t,e,a){"use strict";a.r(e);var l=a(5),v=Object(l.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"sql语法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sql语法"}},[t._v("#")]),t._v(" SQL语法")]),t._v(" "),e("p",[t._v("SQL（"),e("strong",[t._v("S")]),t._v("tructured "),e("strong",[t._v("Q")]),t._v("uery "),e("strong",[t._v("L")]),t._v("anguage）即结构化查询语言，它是数据库的标准语言。SQL 非常简洁，它只有 6 个常用动词：insert（增）、delete（删）、select（查）、update（改）、create（创建）和 grant（授权）。")]),t._v(" "),e("h2",{attrs:{id:"sql-简介"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sql-简介"}},[t._v("#")]),t._v(" SQL 简介")]),t._v(" "),e("p",[t._v("SQL 可以分为三大类：1."),e("strong",[t._v("数据定义语言")]),t._v("，2."),e("strong",[t._v("数据操纵语言")]),t._v("，3."),e("strong",[t._v("数据控制语言")]),t._v("。")]),t._v(" "),e("p",[e("strong",[t._v("1．数据定义语言")])]),t._v(" "),e("p",[t._v("数据定义语言（"),e("strong",[t._v("D")]),t._v("ata "),e("strong",[t._v("D")]),t._v("efinition "),e("strong",[t._v("L")]),t._v("anguage，DDL）主要用于对数据表进行创建、删除或修改等操作。其中数据定义语句有 3 种，如表 2-1 所示。")]),t._v(" "),e("p",[e("strong",[t._v("表 2-1　数据定义语句")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("语句")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("create table")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("创建表")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("drop table")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("删除表")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("alter table")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("修改表")])])])]),t._v(" "),e("p",[e("strong",[t._v("2．数据操纵语言")])]),t._v(" "),e("p",[t._v("数据操纵语言（"),e("strong",[t._v("D")]),t._v("ata "),e("strong",[t._v("M")]),t._v("anipulation "),e("strong",[t._v("L")]),t._v("anguage，DML）主要用于对数据进行增删查改操作。其中数据操纵语句有 4 种，如表 2-2 所示。")]),t._v(" "),e("p",[e("strong",[t._v("表 2-2　数据操纵语句")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("语句")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("insert")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("增加数据")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("delete")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("删除数据")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("select")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("查询数据")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("update")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("更新数据")])])])]),t._v(" "),e("p",[e("strong",[t._v("3．数据控制语言")])]),t._v(" "),e("p",[t._v("数据控制语言（"),e("strong",[t._v("D")]),t._v("ata "),e("strong",[t._v("C")]),t._v("ontrol "),e("strong",[t._v("L")]),t._v("anguage，DCL）主要用于对数据库和表的权限进行管理。其中数据控制语句有两种，如表 2-3 所示。")]),t._v(" "),e("p",[e("strong",[t._v("表 2-3　数据控制语句")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("语句")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("grant")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("赋予用户权限")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("revoke")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("取消用户权限")])])])]),t._v(" "),e("h2",{attrs:{id:"关键字"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#关键字"}},[t._v("#")]),t._v(" 关键字")]),t._v(" "),e("p",[t._v("关键字指的是 SQL 本身“已经在使用”的单词或词组，因此在给数据库、表、列等命名时是不能使用这些单词或词组的（因为 SQL 自己要用）。")]),t._v(" "),e("p",[t._v("常见的关键字有：select、from、where、group by、order by、distinct、like、insert、delete、update、create table、alter、drop、is not、inner join、left outer join、right outer join、procedure、function 等。")]),t._v(" "),e("p",[t._v("对于这些关键字，小伙伴们不需要刻意去记忆。")]),t._v(" "),e("h2",{attrs:{id:"语法规则"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#语法规则"}},[t._v("#")]),t._v(" 语法规则")]),t._v(" "),e("p",[t._v("SQL 本身是一门编程语言，所以它有自己的语法规则。不过 SQL 的语法规则非常简单，我们只需要清楚以下两点即可。")]),t._v(" "),e("p",[e("strong",[t._v("1．不区分大小写")])]),t._v(" "),e("p",[t._v("对于表名、列名、关键字等，SQL 是不区分大小写的。比如 select 这个关键字，写成 select、SELECT 或 Select 都是可以的。下面两种写法是等价的。")]),t._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 写法 1 ：关键字小写")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" student"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 写法 2 ：关键字大写")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" student"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br")])]),e("p",[t._v("对于大小写，这里要重点说明的是，很多书都推荐使用写法 2，也就是关键字一律大写。其实对于使用中文环境的人来说，大写的关键字阅读起来是非常不直观的。因此，对于初学者来说，我们更推荐小写。")]),t._v(" "),e("p",[e("strong",[t._v("SQL 语句应该以分号结尾")])]),t._v(" "),e("p",[t._v("如果执行一条 SQL 语句，则它的结尾加不加英文分号（;）都是可行的。但是如果同时执行多条 SQL 语句，则每一条语句的后面都必须加上英文分号才行。")]),t._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 方式 1 ：加分号")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" student"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 方式 2 ：不加分号")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" student\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br")])]),e("p",[t._v("中文的一句话需要用一个句号（。）来表示结束。一条 SQL 语句相当于 SQL 中的一句话，所以为了代码规范，不管是一条 SQL 语句，还是多条 SQL 语句，建议都加上英文分号。")]),t._v(" "),e("h2",{attrs:{id:"命名规则"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#命名规则"}},[t._v("#")]),t._v(" 命名规则")]),t._v(" "),e("p",[t._v("命名规则主要是针对数据库、表、列的。对于数据库、表、列的命名，需要遵循以下两条规则。")]),t._v(" "),e("p",[e("strong",[t._v("1．不能是 SQL 关键字")])]),t._v(" "),e("p",[t._v("前面讲过，关键字指的是 SQL 本身“已经在使用”的单词或词组，因此我们在给数据库、表、列等命名时，是不能使用这些单词或词组的（因为 SQL 自己要用）。比如 select、delete、from 等都是 SQL 中的关键字。")]),t._v(" "),e("p",[e("strong",[t._v("2．只能使用英文字母、数字、下划线（_）")])]),t._v(" "),e("p",[t._v("在给数据库、表、列等命名时，只能使用英文字母（大小写都可以）、数字、下划线（_）这 3 种字符，而不能使用其他符号，如中划线（-）、美元符号（$）等。")]),t._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 正确命名")]),t._v("\nfruit_name\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 错误命名")]),t._v("\nfruit"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("name\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br")])]),e("p",[t._v("如果小伙伴们接触过其他编程语言（如 C 语言、Java、Python 等），那么应该知道每一门编程语言都有它自己的数据类型。SQL 本身也是一门编程语言，所以它也有自己的数据类型。")]),t._v(" "),e("p",[t._v("由于本书使用的是 MySQL，所以只介绍 MySQL 中的数据类型。其他 DBMS（如 SQL Server、Oracle、PostgreSQL 等）的数据类型也是大同小异，小伙伴们可以自行了解。")]),t._v(" "),e("h2",{attrs:{id:"数据类型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#数据类型"}},[t._v("#")]),t._v(" 数据类型")]),t._v(" "),e("p",[t._v("MySQL 的数据类型主要有以下四大类。")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("数值。")])]),t._v(" "),e("li",[e("strong",[t._v("字符串。")])]),t._v(" "),e("li",[e("strong",[t._v("日期时间。")])]),t._v(" "),e("li",[e("strong",[t._v("二进制。")])])]),t._v(" "),e("h3",{attrs:{id:"数值"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#数值"}},[t._v("#")]),t._v(" 数值")]),t._v(" "),e("p",[t._v("数值可以分为三大类：①整数，②浮点数，③定点数。MySQL 中的整数类型有 5 种，如表 2-4 所示。在实际开发中，大多数情况下使用 int 类型。")]),t._v(" "),e("p",[e("strong",[t._v("表 2-4　整数")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("说明")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("取值范围")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("tinyint")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("很小的整数")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-27~27-1（-128~127）")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("smallint")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("小的整数")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-215~215-1（-32768~32767）")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("mediumint")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("中等的整数")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-223~223-1")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("int（或 integer）")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("普通的整数")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-231~231-1")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("bigint")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("大整数")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-263~263-1")])])])]),t._v(" "),e("p",[t._v("选择哪一种整数类型取决于对应列的数值范围，如果对应列的最大值不超过 127，那么选择 tinyint 类型就足够了。选择取值范围过大的类型，需要占据更大的空间。")]),t._v(" "),e("p",[t._v("浮点数类型有两种，如表 2-5 所示。需要注意的是，浮点数类型存在精度损失，比如 float 类型的浮点数只保留 7 位有效位，会对最后一位数进行四舍五入。")]),t._v(" "),e("p",[e("strong",[t._v("表 2-5　浮点数")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("说明")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("有效位")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("float")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("单精度")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("7 位")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("double")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("双精度")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("15 位")])])])]),t._v(" "),e("p",[t._v("定点数只有一种，如表 2-6 所示。和浮点数不一样，定点数不存在精度损失，所以大多数情况下建议使用定点数来表示包含小数的数值。特别是银行存款这种数值，如果用浮点数来表示就会非常麻烦。")]),t._v(" "),e("p",[e("strong",[t._v("表 2-6　定点数")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("说明")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("有效位")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("decimal(m, d)")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("定点数")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("取决于 m 和 d")])])])]),t._v(" "),e("p",[t._v("decimal(m, d) 的 m 表示该数值最多包含的有效数字的个数，d 表示有多少位小数。")]),t._v(" "),e("p",[t._v("举个简单的例子，decimal(10, 2) 中的“2”表示小数部分的位数为 2，如果插入的数值没有小数或者小数不足两位，就会自动补全到两位（补 0）。如果插入的数值的小数超过了两位，那么就会直接截断多余位（不会四舍五入），最后保留两位。decimal(10, 2) 中的“10”指的是整数部分加小数部分的总位数，也就是说，整数部分不能超过 8 位（10-2），否则就无法插入成功，并且会报错。")]),t._v(" "),e("p",[t._v("此外，decimal(m, d) 中的 m 和 d 都是可选的，m 的默认值是 10，d 的默认值是 0。因此可以得出下面的等式。")]),t._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("decimal")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("decimal")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("MySQL 是不存在布尔类型（Boolean）的。但是在实际开发过程中，经常需要用到“是”和“否”以及“有”和“无”这种数据，这应该怎么表示呢？我们可以使用 tinyint(1)、tinyint(0) 这种方式来表示，其中“1”表示 true，“0”表示 false。")]),t._v(" "),e("h3",{attrs:{id:"字符串"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#字符串"}},[t._v("#")]),t._v(" 字符串")]),t._v(" "),e("p",[t._v("字符串其实就是一串字符。在 MySQL 中，字符串都是使用英文单引号或英文双引号引起来的。MySQL 中常用的字符串类型有 7 种，如表 2-7 所示。")]),t._v(" "),e("p",[e("strong",[t._v("表 2-7　字符串类型")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("说明")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("字节")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("char")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("定长字符串")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("0~255（28-1）")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("varchar")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("变长字符串")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("0~65535（216-1）")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("tinytext")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("短文本")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("0~255（28-1）")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("text")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("普通长度文本")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("0~65535（216-1）")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("mediumtext")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("中等长度文本")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("0~16777215（224-1）")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("longtext")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("长文本")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("0~4294967295（232-1）")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("enum")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("枚举类型")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("取决于成员个数（最多 64 个）")])])])]),t._v(" "),e("p",[t._v("在实际开发中，最常用的是 char、varchar、text、enum 这 4 种类型，所以接下来会重点介绍它们。")]),t._v(" "),e("h4",{attrs:{id:"char"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#char"}},[t._v("#")]),t._v(" "),e("strong",[t._v("char")])]),t._v(" "),e("p",[t._v("在 MySQL 中，可以使用 char 类型来表示一个“固定长度”的字符串。")]),t._v(" "),e("blockquote",[e("p",[e("strong",[t._v("语法")]),t._v("：")])]),t._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("blockquote",[e("p",[e("strong",[t._v("说明")]),t._v("：")])]),t._v(" "),e("p",[t._v("n 表示指定的长度，它是一个整数，取值范围为 0~255。比如 char(5) 表示字符串长度为 5，也就是说，包含的字符个数最多为 5。如果字符串的长度不足 5，那么就在其右边填充空格。如果字符串的长度超过 5 就会报错，此时字符串将无法存入数据库。char(5) 的存储情况如表 2-8 所示。")]),t._v(" "),e("p",[e("strong",[t._v("表 2-8　char(5)")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("插入值")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("存储值")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("占用空间")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("''")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("'　'")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("5 个字节")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("'a'")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("'a　'")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("5 个字节")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("'ab'")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("'ab '")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("5 个字节")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("'abcde'")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("'abcde'")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("5 个字节")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("'abcdef'")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("无法存入")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("无法存入")])])])]),t._v(" "),e("h4",{attrs:{id:"varchar"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#varchar"}},[t._v("#")]),t._v(" "),e("strong",[t._v("varchar")])]),t._v(" "),e("p",[t._v("在 MySQL 中，可以使用 varchar 类型来表示一个“可变长度”的字符串。")]),t._v(" "),e("blockquote",[e("p",[e("strong",[t._v("语法")]),t._v("：")])]),t._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("varchar")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("blockquote",[e("p",[e("strong",[t._v("说明")]),t._v("：")])]),t._v(" "),e("p",[t._v("n 表示指定的长度，它是一个整数，取值范围为 0~65535。和 char 不一样，varchar 的占用空间是由字符串的实际长度来决定的。varchar(5) 的存储情况如表 2-9 所示。")]),t._v(" "),e("p",[e("strong",[t._v("表 2-9　varchar(5)")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("插入值")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("存储值")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("占用空间")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("''")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("''")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("1 个字节")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("'a'")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("'a'")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("2 个字节")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("'ab'")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("'ab'")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("3 个字节")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("'abcde'")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("'abcde'")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("6 个字节")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("'abcdef'")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("无法存入")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("无法存入")])])])]),t._v(" "),e("p",[t._v("需要特别注意的是，varchar 实际占用的空间等于“字符串的实际长度”再加上 1，因为它在存储字符串时会在字符串末尾加上一个结束字符。")]),t._v(" "),e("p",[t._v("虽然 varchar 使用起来比较灵活，并且可以节省存储空间；但是从性能上来看，char 的处理速度更快。因此在设计数据库时，应该综合考虑多方面的因素来选取合适的数据类型存储数据。")]),t._v(" "),e("p",[t._v("从字面上也可以看出来，varchar 指的是“variable char”。其中，char 和 varchar 之间的区别如下。")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("char 也叫作“定长字符串”，它的长度是固定的，存储相同数据时占用的空间大，但是性能稍高。")])]),t._v(" "),e("li",[e("strong",[t._v("varchar 也叫作“变长字符串”，它的长度是可变的，存储相同数据时占用的空间小，但是性能稍低。")])])]),t._v(" "),e("h4",{attrs:{id:"text"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#text"}},[t._v("#")]),t._v(" "),e("strong",[t._v("text")])]),t._v(" "),e("p",[t._v("如果要存储一个超长字符串（如文章内容），此时就更适合使用 text 这种类型了。text 其实相当于 varchar(65535)，它本质上也是一个“变长字符串”。")]),t._v(" "),e("p",[t._v("与 text 类型相关的类型还有 tinytext、mediumtext、longtext，如表 2-10 所示。它们都是“变长字符串”，唯一的区别在于可存储的长度不同。")]),t._v(" "),e("p",[e("strong",[t._v("表 2-10　text 的相关类型")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("说明")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("字节")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("tinytext")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("短文本")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("0~255（28-1）")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("mediumtext")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("中等长度文本")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("0~16777215（224-1）")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("longtext")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("长文本")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("0~4294967295（232-1）")])])])]),t._v(" "),e("h4",{attrs:{id:"enum"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#enum"}},[t._v("#")]),t._v(" "),e("strong",[t._v("enum")])]),t._v(" "),e("p",[t._v("在实际开发中，有些变量只有几种可能的取值。比如人的性别只有两种值：男和女。星期只有 7 种值：1、2、3、4、5、6、7。")]),t._v(" "),e("p",[t._v("在 MySQL 中，可以将某个字段定义为 enum 类型（枚举类型），然后限定该字段在某个范围内取值。")]),t._v(" "),e("p",[t._v("比如，某个字段使用 enum 类型定义了一个枚举列表：'first', 'second', 'third'，那么该字段可以取的值和每个值的索引如表 2-11 所示。")]),t._v(" "),e("h3",{attrs:{id:"日期时间"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#日期时间"}},[t._v("#")]),t._v(" 日期时间")]),t._v(" "),e("p",[t._v("日期时间主要用于表示“日期（年月日）”和“时间（时分秒）”。MySQL 的日期时间类型有 5 种，如表 2-12 所示。")]),t._v(" "),e("p",[e("strong",[t._v("表 2-12　日期时间类型")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("格式")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("说明")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("举例")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("date")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("YYYY-MM-DD")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("日期型")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("2022-01-01")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("time")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("HH:MM:SS")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("时间型")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("08:05:30")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("datetime")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("YYYY-MM-DD HH:MM:SS")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("日期时间型")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("2022-01-01 08:05:30")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("year")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("YYYY")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("年份型")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("2022")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("timestamp")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("YYYYMMDD HHMMSS")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("时间戳型")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("20220101 080530")])])])]),t._v(" "),e("p",[t._v("在 MySQL 中输入日期时间数据时，数据必须符合相应的格式才能正确输入。比如类型为 date，那么字段的值必须符合“YYYY-MM-DD”这种格式，而不能是其他格式。")]),t._v(" "),e("p",[t._v("每个类型都有特定的格式以及取值范围，当指定不合法的值时，系统就会将“0”插入数据库中。")]),t._v(" "),e("p",[t._v("如果使用的是 Navicat for MySQL，我们可以使用提示按钮来辅助输入，如图 2-3 所示。如果是在程序中插入数据，就需要特别注意格式了。")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://www.ituring.com.cn/figures/2023/MySQL021/031.jpg",alt:"{%}"}})]),t._v(" "),e("p",[e("strong",[t._v("图 2-3")])]),t._v(" "),e("p",[e("strong",[t._v("1．日期型")])]),t._v(" "),e("p",[t._v("日期型（date）的数据格式为：YYYY-MM-DD。其中，YYYY 是年份，MM 是月份，DD 表示某一天。比如 2022 年 1 月 1 日的存储格式应为：2022-01-01。")]),t._v(" "),e("p",[e("strong",[t._v("2．时间型")])]),t._v(" "),e("p",[t._v("时间型（time）的数据格式为：HH:MM:SS。其中，HH 表示小时，MM 表示分钟，SS 表示秒。比如 8 时 4 分 30 秒的存储格式应为：08:04:30。")]),t._v(" "),e("p",[e("strong",[t._v("3．日期时间型")])]),t._v(" "),e("p",[t._v("日期时间型（datetime）的数据格式为：YYYY-MM-DD HH:MM:SS。其中，YYYY 是年份，MM 是月份，DD 表示某一天，HH 表示小时，MM 表示分钟，SS 表示秒。")]),t._v(" "),e("p",[t._v("比如 2022 年 1 月 1 日 8 时 4 分 30 秒的存储格式应为：2022-01-01 08:04:30。")]),t._v(" "),e("p",[e("strong",[t._v("4．年份型")])]),t._v(" "),e("p",[t._v("年份型（year）的数据格式为：YYYY。YYYY 是年份。比如 2022 年的存储格式应为：2022。")]),t._v(" "),e("p",[e("strong",[t._v("5．时间戳型")])]),t._v(" "),e("p",[t._v("时间戳型（timestamp）的数据格式为：YYYYMMDD HHMMSS。其中，YYYY 是年份，MM 是月份，DD 表示某一天，HH 表示小时，MM 表示分钟，SS 表示秒。")]),t._v(" "),e("p",[t._v("比如 2022 年 1 月 1 日 8 时 4 分 30 秒的存储格式应为：20220101 080430。")]),t._v(" "),e("p",[t._v("datetime 和 timestamp 都可以用于表示“YYYY-MM-DD HH:MM:SS”格式的日期时间，除了存储方式、存储大小以及表示范围有所不同之外，这两种类型没有太大的区别。一般情况下，datetime 用得较多；而对于跨时区的业务，则使用 timestamp 更为合适。")]),t._v(" "),e("h3",{attrs:{id:"二进制"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二进制"}},[t._v("#")]),t._v(" 二进制")]),t._v(" "),e("p",[t._v("二进制类型适用于存储图像、有格式的文本（如 Word 文档、Excel 文档等）、程序文件等数据。MySQL 的二进制类型有 5 种，如表 2-13 所示。")]),t._v(" "),e("p",[e("strong",[t._v("表 2-13　二进制类型")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("说明")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("字节")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("bit")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("位")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("0~255（28-1）")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("tinyblob")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("二进制类型的短文本")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("0~255（28-1）")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("blob")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("二进制类型的普通文本")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("0~65535（216-1）")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("mediumblob")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("二进制类型的中文本")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("0~16777215（224-1）")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("longblob")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("二进制类型的长文本")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("0~4294967295（232-1）")])])])]),t._v(" "),e("p",[t._v("不过在实际开发中，并不推荐在数据库中存储二进制数据，主要是因为二进制数据往往非常大，占用的存储空间过多，这对数据库的性能会有所影响。")]),t._v(" "),e("h2",{attrs:{id:"注释"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#注释"}},[t._v("#")]),t._v(" 注释")]),t._v(" "),e("p",[t._v("在实际开发中，有时需要为 MySQL 语句添加一些注释，以方便自己和别人理解代码。")]),t._v(" "),e("p",[e("strong",[t._v("方式 1（推荐）")]),t._v("：")]),t._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 注释内容")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[e("strong",[t._v("方式 2")]),t._v("：")]),t._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 注释内容")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[e("strong",[t._v("方式 3")]),t._v("：")]),t._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*注释内容*/")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("MySQL 常用的注释方式有上面 3 种。需要特别注意的是，方式 1 的“--”与“注释内容”之间必须要有一个空格。")]),t._v(" "),e("p",[t._v("如果注释内容只有一行，那么这 3 种方式都是可行的。方式 2 是 MySQL 独有的，SQL Server 等就没有这种方式。而大多数 DBMS（如 MySQL、SQL Server 等）都可以使用方式 1。所以为了统一，对于所有 DBMS 的单行注释内容，建议使用方式 1。")]),t._v(" "),e("p",[t._v("如果注释内容过多且需要多行显示，那么此时推荐使用方式 3（示例如下），大多数 DBMS（包括 MySQL、SQL Server 等）都可以使用这种方式进行多行注释。")]),t._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*\n  注释内容\n  注释内容\n  注释内容\n*/")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br")])])])}),[],!1,null,null,null);e.default=v.exports}}]);