(window.webpackJsonp=window.webpackJsonp||[]).push([[202],{579:function(s,a,t){"use strict";t.r(a);var e=t(5),r=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"其他内容"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其他内容"}},[s._v("#")]),s._v(" 其他内容")]),s._v(" "),a("h2",{attrs:{id:"系统数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#系统数据库"}},[s._v("#")]),s._v(" 系统数据库")]),s._v(" "),a("p",[s._v("对于MySQL来说，它自带的系统数据库共有以下4个。")]),s._v(" "),a("ol",[a("li",[s._v("mysql")]),s._v(" "),a("li",[s._v("performance_schema")]),s._v(" "),a("li",[s._v("information_schema")]),s._v(" "),a("li",[s._v("sys")])]),s._v(" "),a("h3",{attrs:{id:"mysql-数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql-数据库"}},[s._v("#")]),s._v(" mysql 数据库")]),s._v(" "),a("p",[s._v("这是最重要的系统数据库之一，它包含了用户账户、权限、角色以及与安全相关的其他信息。")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("用户表 ("),a("code",[s._v("user")]),s._v(")")]),s._v(": 存储了所有用户的登录信息（如用户名、密码）和全局权限。")]),s._v(" "),a("li",[a("strong",[s._v("权限表 ("),a("code",[s._v("db")]),s._v(", "),a("code",[s._v("tables_priv")]),s._v(", "),a("code",[s._v("columns_priv")]),s._v(", "),a("code",[s._v("procs_priv")]),s._v(")")]),s._v(": 分别存储数据库级、表级、列级和存储过程/函数级的权限设置。")]),s._v(" "),a("li",[a("strong",[s._v("其他表")]),s._v(": 包括存储插件信息("),a("code",[s._v("plugin")]),s._v(")、服务器端帮助文档("),a("code",[s._v("help_category")]),s._v(", "),a("code",[s._v("help_topic")]),s._v(")等。")])]),s._v(" "),a("h3",{attrs:{id:"information-schema"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#information-schema"}},[s._v("#")]),s._v(" information_schema")]),s._v(" "),a("p",[s._v("这是一个虚拟数据库，提供了访问数据库元数据的方法。它不存储实际的数据，而是通过视图的方式提供关于数据库对象的信息，比如表、列、索引等。")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("Tables")]),s._v(": 提供了有关数据库中所有表的信息。")]),s._v(" "),a("li",[a("strong",[s._v("Columns")]),s._v(": 列出了所有表中的列及其属性。")]),s._v(" "),a("li",[a("strong",[s._v("Key_Column_Usage")]),s._v(": 描述了键之间的关系，包括外键约束。")])]),s._v(" "),a("h3",{attrs:{id:"performance-schema"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#performance-schema"}},[s._v("#")]),s._v(" performance_schema")]),s._v(" "),a("p",[s._v("用于监控MySQL服务器的性能，收集统计信息，帮助诊断性能瓶颈。从MySQL 5.5版本开始引入，需要手动启用相关功能。")]),s._v(" "),a("ul",[a("li",[s._v("包含了各种表，用于追踪服务器执行的语句、锁等待、文件I/O操作等。")])]),s._v(" "),a("h3",{attrs:{id:"sys-数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sys-数据库"}},[s._v("#")]),s._v(" sys 数据库")]),s._v(" "),a("p",[a("code",[s._v("sys")]),s._v(" 数据库是一个综合性的数据库，它简化了对"),a("code",[s._v("performance_schema")]),s._v("中数据的访问，并提供了易于理解的报告。它在MySQL 5.7及更高版本中可用。")]),s._v(" "),a("ul",[a("li",[s._v("提供了一系列视图、存储过程和函数，使得性能调优和故障排除更加直观和简单。")])]),s._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("不要随意修改")]),s._v("：除非你非常清楚自己在做什么，否则不应直接修改"),a("code",[s._v("mysql")]),s._v(", "),a("code",[s._v("information_schema")]),s._v(", "),a("code",[s._v("performance_schema")]),s._v("或"),a("code",[s._v("sys")]),s._v("数据库中的内容。错误的修改可能会导致数据库无法正常工作。")]),s._v(" "),a("li",[a("strong",[s._v("备份重要数据")]),s._v("：定期备份"),a("code",[s._v("mysql")]),s._v("数据库以防止意外丢失用户和权限数据。")]),s._v(" "),a("li",[a("strong",[s._v("使用专用工具进行管理")]),s._v("：对于性能监控和故障排除，建议使用专门设计的工具或脚本，而不是直接操作"),a("code",[s._v("performance_schema")]),s._v("或"),a("code",[s._v("sys")]),s._v("数据库。")])])]),s._v(" "),a("h2",{attrs:{id:"分页查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分页查询"}},[s._v("#")]),s._v(" 分页查询")]),s._v(" "),a("p",[s._v("在"),a("code",[s._v("MySQL")]),s._v("中，我们可以使用"),a("code",[s._v("“limit m, n”")]),s._v("的语法来实现分页查询。")]),s._v(" "),a("p",[s._v("在MySQL中，分页查询通常用于从大量数据中提取特定范围的数据。这可以通过"),a("code",[s._v("LIMIT")]),s._v("和"),a("code",[s._v("OFFSET")]),s._v("子句来实现。")]),s._v(" "),a("h3",{attrs:{id:"基本语法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基本语法"}},[s._v("#")]),s._v(" 基本语法")]),s._v(" "),a("p",[s._v("分页查询的基本语法如下：")]),s._v(" "),a("p",[s._v("sql")]),s._v(" "),a("p",[s._v("浅色版本")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("SELECT column1, column2, ...\nFROM table_name\nWHERE condition\nORDER BY column_name\nLIMIT offset, row_count;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("或者更常用的形式是分开写"),a("code",[s._v("LIMIT")]),s._v("和"),a("code",[s._v("OFFSET")]),s._v("：")]),s._v(" "),a("p",[s._v("sql")]),s._v(" "),a("p",[s._v("浅色版本")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("SELECT column1, column2, ...\nFROM table_name\nWHERE condition\nORDER BY column_name\nLIMIT row_count OFFSET offset;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ul",[a("li",[a("code",[s._v("offset")]),s._v(": 起始点，表示从第几条记录开始获取数据（注意：第一条记录的偏移量为0）。")]),s._v(" "),a("li",[a("code",[s._v("row_count")]),s._v(": 获取的记录数。")])]),s._v(" "),a("h3",{attrs:{id:"示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例"}},[s._v("#")]),s._v(" 示例")]),s._v(" "),a("p",[s._v("假设我们有一个名为"),a("code",[s._v("employees")]),s._v("的表，并希望以每页显示10条记录的方式查看数据。")]),s._v(" "),a("h4",{attrs:{id:"第一页数据-第1到第10条记录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第一页数据-第1到第10条记录"}},[s._v("#")]),s._v(" 第一页数据（第1到第10条记录）")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" employees\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" employee_id\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LIMIT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("OFFSET")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("或简写为：")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" employees\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" employee_id\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LIMIT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h4",{attrs:{id:"第二页数据-第11到第20条记录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第二页数据-第11到第20条记录"}},[s._v("#")]),s._v(" 第二页数据（第11到第20条记录）")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" employees\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" employee_id\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LIMIT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("OFFSET")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"使用变量简化分页逻辑"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用变量简化分页逻辑"}},[s._v("#")]),s._v(" 使用变量简化分页逻辑")]),s._v(" "),a("p",[s._v("如果你正在开发一个应用，可能需要动态地计算"),a("code",[s._v("offset")]),s._v("值。可以使用编程语言中的循环或条件语句来计算它，比如在PHP中：")]),s._v(" "),a("div",{staticClass:"language-php line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$page")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("isset")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$_GET")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'page'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword type-casting"}},[s._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$_GET")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'page'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$limit")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 每页显示的记录数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$offset")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$page")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$limit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$query")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[s._v('"SELECT * FROM employees ORDER BY employee_id LIMIT '),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$limit")])]),s._v(" OFFSET "),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$offset")])]),s._v('"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h2",{attrs:{id:"表的设计"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#表的设计"}},[s._v("#")]),s._v(" 表的设计")]),s._v(" "),a("p",[s._v("补充一些常用的小技巧，这样可以让我们设计一个更好的表，主要包括以下5个方面:")]),s._v(" "),a("ol",[a("li",[s._v("对于一个表的主键来说，我们一般是使用自动递增的值，而不是手动插入值。")]),s._v(" "),a("li",[s._v("如果一个字段只有两种取值，比如“男”或“女”、“是”或“否”，比较好的做法是使用tinyint(1)，而不是使用varchar等类型。当然，你使用varchar等类型也是没有问题的。")]),s._v(" "),a("li",[s._v("如果想要保存图片，我们一般不会将图片保存到数据库中，否则会占用大量的空间。一般是使用这样的做法：将图片上传到服务器，然后数据库保存的是图片的地址（URL）。")]),s._v(" "),a("li",[s._v("对于一篇文章来说，数据库一般保存的是包含该文章的HTML代码，也叫做“富文本”。一般我们会使用富文本编辑器编辑内容，然后获取对应的HTML代码，最后再将该HTML代码保存到数据库中。")]),s._v(" "),a("li",[s._v("设计表时，所有表和字段都应该添加对应的注释。这个好习惯一定要养成，这样可以使得后期维护起来更加轻松简单。")])])])}),[],!1,null,null,null);a.default=r.exports}}]);