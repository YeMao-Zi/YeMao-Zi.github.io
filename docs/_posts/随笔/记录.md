## 接口测试1

1.**GET /rest/V1/reviews** 用不到

只能获取所有的数据，不需要用

2.**GET /rest/V1/reviews/{review_id}** 获取评论详情

可以

3.**GET /rest/V1/reviews/search** 可根据页数，客户id，商品id检索

可以

4.**GET /rest/{store_code}/V1/reviews/product/{product_id} **可以返回是否可评论

仍然获取不到商品的平均评分

5.**POST /rest/en/V1/reviews** 新增评论

接口请求成功后返回一个空数组，但 GET /rest/V1/reviews/search 和 GET /rest/{store_code}/V1/reviews/product/{product_id} 接口的数据并未更新

6.**DELETE /rest/V1/reviews/{review_id}** 删除指定评论(不成功)

接口返回 false，这个接口目前用不到，但调取是不成功的

7.**PUT /rest/en/V1/reviews/{review_id}** 更新评论

问题同新增评论

8.其他

- 还是无法获取商品和用户的平均评分
- 无法获取添加评论时options选项的下拉选择字典

我重新测试了一下接口并整理了一下测试的结果

I retested the interface and collated the call results

1.GET /rest/{store_code}/V1/reviews/product/{product_id} 

Still lacking the exact fields in **info**, such as totalPrice, totalQuality...

2.POST /rest/en/V1/reviews

An empty array is returned after a successful interface request, but the GET /rest/V1/reviews/search and GET /rest/{store_code}/V1/reviews/product/{product_id} interface data has not been updated

3.GET /rest/{store_code}/V1/reviews/product/{product_id}

The review field may not be needed， if too much data is returned at one time，the app's request to this interface will seriously time out.So ，please provide the exact fields in **info**, such as totalPrice, totalQuality...

## 接口测试2

1.**GET /rest/en/V1/application/reviews** 获取评论列表

2.**POST /rest/en/V1/application/reviews** 添加评论

An empty array is returned after a successful interface request, but the GET /rest/V1/reviews/search and GET /rest/{store_code}/V1/reviews/product/{product_id} interface data has not been updated

![image-20230621102015502](C:\Users\Tina\AppData\Roaming\Typora\typora-user-images\image-20230621102015502.png)

There were three pieces of data and there are still three pieces of data:
![image-20230621102122747](C:\Users\Tina\AppData\Roaming\Typora\typora-user-images\image-20230621102122747.png)

3.**GET /rest/en/V1/application/pages/product/{product_id}** 获取商品相关信息

about block，app 无法解析并渲染 html，能够返回json格式的数据吗？



所以关于 阿达bout，可能无法使用

1.GET /rest/en/V1/application/pages/product/{product_id}: about block, the app cannot parse and render html, can it return data in json format?

![image-20230621110402236](C:\Users\Tina\AppData\Roaming\Typora\typora-user-images\image-20230621110402236.png)

About the "GET /rest/V1/reviews/search". 

是的，我知道我的截图中的数据可以展开，但问题不在这里，我新增了一个产品id为98的评论，但是我从 "GET /rest/V1/reviews/search" 中获取数据时发现没有我新增的这条数据，从我的截图中可以看出来一共有三条数据，但我新增一条评论后还是三条数据

实际上这些 blocks 数据，在 app 中只是用于产品详情页面的展示。但是，当我添加一条，我表达的意思是

I added a new review with product id 98, but when I got the data from "GET /rest/V1/reviews/search", I found that the data I added was not there

In fact, these blocks data are only used in the app for the display of the product details page.

![image-20230621160008065](C:\Users\Tina\AppData\Roaming\Typora\typora-user-images\image-20230621160008065.png)

我能通过产品id得到这些经过汇总后的数据吗？这些数据可能是这样的：

 总人数：total_small,total_true_to_size,total_large

 平均值：average_quality,average_value,average_pick

Can I get the aggregated data from the product id? The data might look something like this:

Total number: total_small,total_true_to_size,total_large

Average value: average_quality,average_value,average_pick

## 测试接口3

1.https://test.chicwish.com/rest/en/V1/application/pages/product/24195 went wrong now：

![image-20230626094216828](C:\Users\Tina\AppData\Roaming\Typora\typora-user-images\image-20230626094216828.png)

2.rating_summary is no longer needed.

3.After I successfully added a comment with product_id 98, pass https://test.chicwish.com/rest/en/V1/application/reviews/search?searchCriteria[currentPage]=1&searchCriteria[pageSize]=5&searchCriteria[filter_groups][0][filters][0][field]=main_table.entity_pk_value&searchCriteria[filter_groups][0][filters][0][value]=98, the new review was not found in the retrieved data, you can see that the original retrieved three data, still three data. You can try to add a new data to verify.

4.What does `total:count` mean?

## 接口测试4

1.![image-20230626094216828](C:\Users\Tina\AppData\Roaming\Typora\typora-user-images\image-20230626094216828.png)

2.![image-20230626172907491](C:\Users\Tina\AppData\Roaming\Typora\typora-user-images\image-20230626172907491.png)

I think the data in total is number: `small + true_to_size + large = count` and the fields in avarage should be average values with values from 1 to 5.

Does reviews return all reviews of the product? The data may be too much. You provided total and avarge to me, so rewiews is not required. If I want to get reviews, I will get them through /reviews/search

3.![image-20230626173622515](C:\Users\Tina\AppData\Roaming\Typora\typora-user-images\image-20230626173622515.png)

When I added a comment using the sample data, the result was [], but when I re-queried the item with the product id of 98, the data did not change, which seems to be different from your result, I don't know what went wrong.

4.![image-20230626175005658](C:\Users\Tina\AppData\Roaming\Typora\typora-user-images\image-20230626175005658.png)

There are actually 4 pieces of data with product id 98, so when currtPage is 2, the return should be []

## 接口测试5

1."block": {

​      "size_guide":

![image-20230627155924572](C:\Users\Tina\AppData\Roaming\Typora\typora-user-images\image-20230627155924572.png)

I tried to render it using a browser, but I found a problem: the picture uses a relative path, I need an external link picture (like: https:xxx.jpg)，Please process all such pictures

2.About /reviews/search, How do I know if the current data is the last data when I load the next data page? I increased currentPage to 100, and the response returned the same data as when currentPage was 3.The desired results are: []

3.

![image-20230627163934852](C:\Users\Tina\AppData\Roaming\Typora\typora-user-images\image-20230627163934852.png)

About /rest/en/V1/application/pages/product/ ,"reviews" data is not necessary

4.Average values are percentages, so how many stars does 60 represent? Is it `5*60*0.01`?

Are Total values also percentages? If so, keep it the way it is.

5. About https://test.chicwish.com/rest/en/V1/application/pages/product/98 ,This request should be a guest api with no token required

## 接口测试6

1.about post /rest/en/V1/application/reviews My local time is 2023-07-05 10:27, but the result created_at is 2023-07-05 02:25:43. What is this time based on?

![image-20230705102758137](C:\Users\Tina\AppData\Roaming\Typora\typora-user-images\image-20230705102758137.png)

2.about /rest/all/V1/products 是否有一个字段表示产品可以添加到购物车中

result:

![image-20230705104403220](C:\Users\Tina\AppData\Roaming\Typora\typora-user-images\image-20230705104403220.png)

I got a 400 error when I used the api /rest/V1/guest-carts/ELtiAxnMupFVZYgpHbk0vZl1sJI5v9Pl/items to add a shopping cart：

![image-20230705104823301](C:\Users\Tina\AppData\Roaming\Typora\typora-user-images\image-20230705104823301.png)

## 接口测试7

is_salable 字段可以加到 /rest/all/V1/products api 中吗？如你所见我需要在渲染产品列表时判断产品是否可以加入购物车以及该产品是否可见，我无法每一个产品都去额外调一个接口，如果可能的话所有有用的信息都能放在这个接口中返回 发起网络请求

Can the `is_salable` field be added to the /rest/all/V1/products api? As you can see, I need to determine if the product can be added to the cart and if the product is visible when I render the product list. I can't initiate an extra interface for each product. If possible, all the useful information can be returned in this interface.

![image-20230706095130260](C:\Users\Tina\AppData\Roaming\Typora\typora-user-images\image-20230706095130260.png)

Can the is_salable field be added to the /rest/all/V1/products api? As you can see, I need to determine if the product can be added to the cart and if the product is visible when the product list is rendered. I can't launch an additional interface for each product. If possible, all useful information can be returned in this interface.但是无法添加到购物车

框架：前端部分：vue3

1.Yes, I get the product list through the /rest/all/V1/products api, and I need to get the information related to the product in the list, such as special price, stock, and is salable.

2.If the product is available in multiple sizes, does inventory and availability refer to all sizes?

3.about /rest/en/V1/application/pages/product, How is allow_write_review and stock data updated.

4.when i add item to the cart,The first addition was successful, but failed when I continued to add.

![image-20230706163127951](C:\Users\Tina\AppData\Roaming\Typora\typora-user-images\image-20230706163127951.png)
